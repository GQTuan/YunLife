2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:04:37 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:04:38 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:04:38 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:04:38 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:04:38 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:04:38 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:04:38 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:04:38 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:04:38 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:04:38 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:04:38 [info][yii\web\Session::open] Session started
2017-08-15 18:04:38 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:04:38 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:04:38 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:04:38 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:04:38 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:04:38 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:04:38 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:38 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:38 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:04:38 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:04:38 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7494', '2017-08-15 18:04:38')
2017-08-15 18:04:38 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:04:38 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:04:39 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:39 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:39 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:04:39 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:04:39 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12843', '2017-08-15 18:04:39')
2017-08-15 18:04:39 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:04:39 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:04:39 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:39 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:39 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:04:39 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:04:39 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6611', '2017-08-15 18:04:39')
2017-08-15 18:04:39 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7494', `time`='2017-08-15 18:04:38' WHERE `name`='longyanxiang'
2017-08-15 18:04:39 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12843', `time`='2017-08-15 18:04:39' WHERE `name`='yushi'
2017-08-15 18:04:39 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6611', `time`='2017-08-15 18:04:39' WHERE `name`='mila'
2017-08-15 18:04:39 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:04:39 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:04:39 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:04:39 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:04:39 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:04:39 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:04:39 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:04:39 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:04:39 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:04:39 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:04:39 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:04:39 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:04:39 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:04:39 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:04:39 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:04:39 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:04:39 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:04:39 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:04:39 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:04:39 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:04:39 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:04:39 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:04:39 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:04:39 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:04:39 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:04:39 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:04:39 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:04:39 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:04:39 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:04:39 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:04:39 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:04:39 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:04:39 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:04:39 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:04:39 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:04:40 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:04:40 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:04:40 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:04:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:04:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:04:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:04:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:04:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:04:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:04:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:04:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:04:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:04:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:04:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:04:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:04:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:04:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:04:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:04:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:04:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:04:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:04:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:04:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:04:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:04:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:04:41 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:04:42 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:04:42 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:04:42 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:04:42 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:04:42 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:04:42 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:04:42 [info][yii\web\Session::open] Session started
2017-08-15 18:04:42 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:04:42 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:42 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:04:42 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7497', '2017-08-15 18:04:42')
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:42 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:04:42 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12847', '2017-08-15 18:04:42')
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:42 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:04:42 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6612', '2017-08-15 18:04:42')
2017-08-15 18:04:42 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7497', `time`='2017-08-15 18:04:42' WHERE `name`='longyanxiang'
2017-08-15 18:04:42 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12847', `time`='2017-08-15 18:04:42' WHERE `name`='yushi'
2017-08-15 18:04:42 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6612', `time`='2017-08-15 18:04:42' WHERE `name`='mila'
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:04:42 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:04:42 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:04:42 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:04:42 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:04:42 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:04:42 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:04:42 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:04:42 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:04:42 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:04:43 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:04:43 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:04:43 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:04:43 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:04:43 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:04:43 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:04:43 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:04:43 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:04:43 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:04:43 [info][yii\web\Session::open] Session started
2017-08-15 18:04:43 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:04:43 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:04:43 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:04:43 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:04:43 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:04:43 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:04:43 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:43 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:43 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:04:43 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:04:43 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7496', '2017-08-15 18:04:43')
2017-08-15 18:04:43 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:04:43 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:04:43 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:43 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:43 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:04:43 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:04:43 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12847', '2017-08-15 18:04:43')
2017-08-15 18:04:43 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:04:43 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:04:43 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:43 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:43 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:04:43 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:04:43 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6610', '2017-08-15 18:04:43')
2017-08-15 18:04:43 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7496', `time`='2017-08-15 18:04:43' WHERE `name`='longyanxiang'
2017-08-15 18:04:43 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12847', `time`='2017-08-15 18:04:43' WHERE `name`='yushi'
2017-08-15 18:04:43 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6610', `time`='2017-08-15 18:04:43' WHERE `name`='mila'
2017-08-15 18:04:43 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:04:43 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:04:43 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:04:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:04:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:04:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:04:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:04:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:04:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:04:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:04:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:04:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:04:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:04:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:04:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:04:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:04:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:04:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:04:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:04:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:04:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:04:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:04:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:04:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:04:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:04:43 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:04:43 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:04:43 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:04:43 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:04:43 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:04:43 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:04:43 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:04:43 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:04:43 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:04:44 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:05:04 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:05:04 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:05:04 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:05:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:05:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:05:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:05:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:05:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:05:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:05:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:05:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:05:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:05:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:05:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:05:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:05:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:05:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:05:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:05:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:05:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:05:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:05:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:05:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:05:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:05:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:05:04 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:05:05 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:05:05 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:05:05 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:05:05 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:05:05 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:05:05 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:05:05 [info][yii\web\Session::open] Session started
2017-08-15 18:05:05 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:05:05 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:05:05 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:05:05 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7494', '2017-08-15 18:05:05')
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:05:05 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:05:05 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12848', '2017-08-15 18:05:05')
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:05:05 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:05:05 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6612', '2017-08-15 18:05:05')
2017-08-15 18:05:05 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7494', `time`='2017-08-15 18:05:05' WHERE `name`='longyanxiang'
2017-08-15 18:05:05 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12848', `time`='2017-08-15 18:05:05' WHERE `name`='yushi'
2017-08-15 18:05:05 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6612', `time`='2017-08-15 18:05:05' WHERE `name`='mila'
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:05:05 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:05:05 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:05:05 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:05:05 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:05:05 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:05:05 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:05:05 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:05:05 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:05:05 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:05:06 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:05:06 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:05:06 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:05:06 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:05:06 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:05:06 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:05:06 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:05:07 [info][yii\web\Session::open] Session started
2017-08-15 18:05:07 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:05:07 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:05:07 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:05:07 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7495', '2017-08-15 18:05:07')
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:05:07 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:05:07 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12850', '2017-08-15 18:05:07')
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:05:07 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:05:07 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6610', '2017-08-15 18:05:07')
2017-08-15 18:05:07 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7495', `time`='2017-08-15 18:05:07' WHERE `name`='longyanxiang'
2017-08-15 18:05:07 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12850', `time`='2017-08-15 18:05:07' WHERE `name`='yushi'
2017-08-15 18:05:07 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6610', `time`='2017-08-15 18:05:07' WHERE `name`='mila'
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:05:07 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:05:07 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:05:07 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:05:07 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:05:07 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:05:07 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:05:07 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:05:07 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:05:07 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:05:08 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:05:08 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:05:08 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:05:08 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:05:08 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:05:08 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:05:08 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:05:08 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:05:08 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:05:08 [info][yii\web\Session::open] Session started
2017-08-15 18:05:08 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:05:08 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:05:08 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:05:08 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:05:08 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:05:08 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:05:08 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:05:08 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:05:08 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:05:08 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:05:08 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7497', '2017-08-15 18:05:08')
2017-08-15 18:05:08 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:05:08 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:05:08 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:05:08 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:05:08 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:05:08 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:05:08 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12851', '2017-08-15 18:05:08')
2017-08-15 18:05:08 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:05:08 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:05:08 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:05:08 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:05:08 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:05:08 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:05:08 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6608', '2017-08-15 18:05:08')
2017-08-15 18:05:08 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7497', `time`='2017-08-15 18:05:08' WHERE `name`='longyanxiang'
2017-08-15 18:05:08 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12851', `time`='2017-08-15 18:05:08' WHERE `name`='yushi'
2017-08-15 18:05:08 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6608', `time`='2017-08-15 18:05:08' WHERE `name`='mila'
2017-08-15 18:05:08 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:05:08 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:05:08 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:05:08 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:05:08 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:05:08 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:05:08 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:05:08 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:05:08 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:05:08 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:05:08 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:05:08 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:05:08 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:05:08 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:05:08 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:05:08 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:05:08 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:05:08 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:05:08 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:05:08 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:05:08 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:05:08 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:05:08 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:05:08 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:05:08 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:05:08 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:05:08 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:05:08 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:05:08 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:05:08 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:05:08 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:05:08 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:05:08 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:05:08 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:05:08 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:05:09 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:05:09 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:05:09 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:05:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:05:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:05:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:05:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:05:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:05:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:05:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:05:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:05:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:05:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:05:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:05:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:05:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:05:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:05:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:05:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:05:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:05:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:05:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:05:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:05:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:05:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:05:09 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:05:10 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:05:10 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:05:10 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:05:10 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:05:10 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:05:10 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:05:10 [info][yii\web\Session::open] Session started
2017-08-15 18:05:10 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:05:10 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:05:10 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:05:10 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7500', '2017-08-15 18:05:10')
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:05:10 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:05:10 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12855', '2017-08-15 18:05:10')
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:05:10 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:05:10 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6609', '2017-08-15 18:05:10')
2017-08-15 18:05:10 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7500', `time`='2017-08-15 18:05:10' WHERE `name`='longyanxiang'
2017-08-15 18:05:10 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12855', `time`='2017-08-15 18:05:10' WHERE `name`='yushi'
2017-08-15 18:05:10 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6609', `time`='2017-08-15 18:05:10' WHERE `name`='mila'
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:05:10 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:05:10 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:05:10 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:05:10 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:05:10 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:05:10 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:05:10 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:05:10 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:05:10 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:05:11 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:05:11 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:05:11 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:05:11 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:05:11 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:05:11 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:05:11 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:05:11 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:05:11 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:05:11 [info][yii\web\Session::open] Session started
2017-08-15 18:05:11 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:05:11 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:05:11 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:05:11 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:05:11 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:05:11 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:05:11 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:05:11 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:05:11 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:05:11 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:05:11 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7501', '2017-08-15 18:05:11')
2017-08-15 18:05:11 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:05:11 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:05:11 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:05:11 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:05:11 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:05:11 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:05:11 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12856', '2017-08-15 18:05:11')
2017-08-15 18:05:11 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:05:11 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:05:11 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:05:11 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:05:11 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:05:11 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:05:11 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6608', '2017-08-15 18:05:11')
2017-08-15 18:05:11 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7501', `time`='2017-08-15 18:05:11' WHERE `name`='longyanxiang'
2017-08-15 18:05:11 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12856', `time`='2017-08-15 18:05:11' WHERE `name`='yushi'
2017-08-15 18:05:11 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6608', `time`='2017-08-15 18:05:11' WHERE `name`='mila'
2017-08-15 18:05:11 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:05:11 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:05:11 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:05:11 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:05:11 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:05:11 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:05:11 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:05:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:05:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:05:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:05:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:05:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:05:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:05:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:05:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:05:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:05:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:05:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:05:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:05:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:05:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:05:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:05:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:05:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:05:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:05:12 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:05:12 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:05:12 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:05:12 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:05:12 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:05:12 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:05:12 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:05:12 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:05:12 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:05:12 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:05:12 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:05:12 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:05:12 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:05:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:05:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:05:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:05:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:05:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:05:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:05:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:05:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:05:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:05:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:05:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:05:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:05:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:05:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:05:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:05:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:05:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:05:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:05:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:05:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:05:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:05:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:05:12 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:05:13 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:05:13 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:05:13 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:05:13 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:05:13 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:05:13 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:05:13 [info][yii\web\Session::open] Session started
2017-08-15 18:05:13 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:05:13 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:05:13 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:05:13 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7499', '2017-08-15 18:05:13')
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:05:13 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:05:13 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12852', '2017-08-15 18:05:13')
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:05:13 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:05:13 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6609', '2017-08-15 18:05:13')
2017-08-15 18:05:13 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7499', `time`='2017-08-15 18:05:13' WHERE `name`='longyanxiang'
2017-08-15 18:05:13 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12852', `time`='2017-08-15 18:05:13' WHERE `name`='yushi'
2017-08-15 18:05:13 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6609', `time`='2017-08-15 18:05:13' WHERE `name`='mila'
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:05:13 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:05:13 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:05:13 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:05:13 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:05:13 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:05:13 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:05:13 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:05:13 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:05:13 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:05:14 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:05:14 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:05:14 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:05:14 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:05:14 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:05:14 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:05:14 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:05:14 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:05:14 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:05:15 [info][yii\web\Session::open] Session started
2017-08-15 18:05:15 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:05:15 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:05:15 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:05:15 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:05:15 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:05:15 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:05:15 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:05:15 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:05:15 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:05:15 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:05:15 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7502', '2017-08-15 18:05:15')
2017-08-15 18:05:15 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:05:15 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:05:15 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:05:15 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:05:15 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:05:15 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:05:15 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12848', '2017-08-15 18:05:15')
2017-08-15 18:05:15 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:05:15 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:05:15 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:05:15 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:05:15 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:05:15 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:05:15 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6609', '2017-08-15 18:05:15')
2017-08-15 18:05:15 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7502', `time`='2017-08-15 18:05:15' WHERE `name`='longyanxiang'
2017-08-15 18:05:15 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12848', `time`='2017-08-15 18:05:15' WHERE `name`='yushi'
2017-08-15 18:05:15 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6609', `time`='2017-08-15 18:05:15' WHERE `name`='mila'
2017-08-15 18:05:15 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:05:15 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:05:15 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:05:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:05:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:05:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:05:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:05:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:05:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:05:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:05:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:05:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:05:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:05:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:05:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:05:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:05:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:05:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:05:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:05:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:05:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:05:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:05:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:05:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:05:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:05:15 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:05:15 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:05:15 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:05:15 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:05:15 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:05:15 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:05:15 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:05:15 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:05:15 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:05:15 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:05:17 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:05:17 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:05:17 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:05:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:05:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:05:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:05:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:05:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:05:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:05:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:05:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:05:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:05:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:05:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:05:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:05:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:05:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:05:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:05:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:05:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:05:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:05:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:05:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:05:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:05:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:05:17 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:05:18 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:05:18 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:05:18 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:05:18 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:05:18 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:05:18 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:05:18 [info][yii\web\Session::open] Session started
2017-08-15 18:05:18 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:05:18 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:05:18 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:05:18 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7500', '2017-08-15 18:05:18')
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:05:18 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:05:18 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12852', '2017-08-15 18:05:18')
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:05:18 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:05:18 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6610', '2017-08-15 18:05:18')
2017-08-15 18:05:18 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7500', `time`='2017-08-15 18:05:18' WHERE `name`='longyanxiang'
2017-08-15 18:05:18 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12852', `time`='2017-08-15 18:05:18' WHERE `name`='yushi'
2017-08-15 18:05:18 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6610', `time`='2017-08-15 18:05:18' WHERE `name`='mila'
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:05:18 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:05:18 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:05:18 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:05:18 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:05:18 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:05:18 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:05:18 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:05:18 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:05:18 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:05:19 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:05:19 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:05:19 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:05:19 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:05:19 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:05:19 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:05:19 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:05:19 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:05:19 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:05:19 [info][yii\web\Session::open] Session started
2017-08-15 18:05:19 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:05:19 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:05:19 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:05:19 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:05:19 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:05:19 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:05:19 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:05:19 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:05:19 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:05:19 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:05:19 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7503', '2017-08-15 18:05:19')
2017-08-15 18:05:19 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:05:19 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:05:19 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:05:19 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:05:19 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:05:19 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:05:19 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12854', '2017-08-15 18:05:19')
2017-08-15 18:05:19 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:05:19 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:05:19 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:05:19 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:05:19 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:05:19 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:05:19 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6611', '2017-08-15 18:05:19')
2017-08-15 18:05:19 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7503', `time`='2017-08-15 18:05:19' WHERE `name`='longyanxiang'
2017-08-15 18:05:19 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12854', `time`='2017-08-15 18:05:19' WHERE `name`='yushi'
2017-08-15 18:05:19 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6611', `time`='2017-08-15 18:05:19' WHERE `name`='mila'
2017-08-15 18:05:19 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:05:19 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:05:19 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:05:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:05:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:05:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:05:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:05:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:05:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:05:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:05:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:05:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:05:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:05:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:05:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:05:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:05:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:05:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:05:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:05:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:05:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:05:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:05:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:05:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:05:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:05:19 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:05:20 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:05:20 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:05:20 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:05:20 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:05:20 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:05:20 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:05:20 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:05:20 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:05:20 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:05:40 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:05:40 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:05:40 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:05:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:05:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:05:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:05:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:05:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:05:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:05:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:05:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:05:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:05:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:05:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:05:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:05:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:05:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:05:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:05:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:05:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:05:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:05:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:05:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:05:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:05:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:05:40 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:05:41 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:05:41 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:05:41 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:05:41 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:05:41 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:05:41 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:05:41 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:05:41 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:05:41 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:05:41 [info][yii\web\Session::open] Session started
2017-08-15 18:05:41 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:05:41 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:05:41 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:05:41 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:05:41 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:05:41 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:05:41 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:05:41 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:05:41 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:05:41 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:05:41 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7503', '2017-08-15 18:05:41')
2017-08-15 18:05:41 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:05:41 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:05:41 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:05:41 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:05:41 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:05:41 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:05:41 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12854', '2017-08-15 18:05:41')
2017-08-15 18:05:41 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:05:41 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:05:41 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:05:41 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:05:41 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:05:41 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:05:41 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6610', '2017-08-15 18:05:41')
2017-08-15 18:05:41 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7503', `time`='2017-08-15 18:05:41' WHERE `name`='longyanxiang'
2017-08-15 18:05:41 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12854', `time`='2017-08-15 18:05:41' WHERE `name`='yushi'
2017-08-15 18:05:41 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6610', `time`='2017-08-15 18:05:41' WHERE `name`='mila'
2017-08-15 18:05:41 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:05:41 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:05:41 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:05:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:05:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:05:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:05:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:05:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:05:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:05:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:05:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:05:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:05:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:05:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:05:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:05:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:05:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:05:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:05:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:05:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:05:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:05:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:05:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:05:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:05:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:05:41 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:05:41 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:05:41 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:05:41 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:05:41 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:05:41 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:05:41 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:05:41 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:05:41 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:05:41 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:05:42 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:05:42 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:05:43 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:05:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:05:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:05:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:05:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:05:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:05:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:05:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:05:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:05:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:05:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:05:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:05:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:05:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:05:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:05:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:05:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:05:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:05:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:05:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:05:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:05:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:05:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:05:43 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:05:44 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:05:44 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:05:44 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:05:44 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:05:44 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:05:44 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:05:44 [info][yii\web\Session::open] Session started
2017-08-15 18:05:44 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:05:44 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:05:44 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:05:44 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7505', '2017-08-15 18:05:44')
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:05:44 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:05:44 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12851', '2017-08-15 18:05:44')
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:05:44 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:05:44 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6608', '2017-08-15 18:05:44')
2017-08-15 18:05:44 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7505', `time`='2017-08-15 18:05:44' WHERE `name`='longyanxiang'
2017-08-15 18:05:44 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12851', `time`='2017-08-15 18:05:44' WHERE `name`='yushi'
2017-08-15 18:05:44 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6608', `time`='2017-08-15 18:05:44' WHERE `name`='mila'
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:05:44 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:05:44 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:05:44 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:05:44 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:05:44 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:05:44 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:05:44 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:05:44 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:05:44 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:05:45 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:05:45 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:05:45 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:05:45 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:05:45 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:05:45 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:05:45 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:05:45 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:05:45 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:05:45 [info][yii\web\Session::open] Session started
2017-08-15 18:05:45 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:05:45 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:05:45 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:05:45 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:05:45 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:05:45 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:05:45 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:05:45 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:05:45 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:05:45 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:05:45 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7502', '2017-08-15 18:05:45')
2017-08-15 18:05:45 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:05:45 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:05:45 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:05:45 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:05:45 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:05:45 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:05:45 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12849', '2017-08-15 18:05:45')
2017-08-15 18:05:45 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:05:45 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:05:45 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:05:45 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:05:45 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:05:45 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:05:45 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6610', '2017-08-15 18:05:45')
2017-08-15 18:05:45 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7502', `time`='2017-08-15 18:05:45' WHERE `name`='longyanxiang'
2017-08-15 18:05:45 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12849', `time`='2017-08-15 18:05:45' WHERE `name`='yushi'
2017-08-15 18:05:45 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6610', `time`='2017-08-15 18:05:45' WHERE `name`='mila'
2017-08-15 18:05:45 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:05:45 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:05:45 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:05:45 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:05:45 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:05:45 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:05:45 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:05:45 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:05:45 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:05:45 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:05:45 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:05:45 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:05:45 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:05:45 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:05:45 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:05:45 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:05:45 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:05:45 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:05:45 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:05:45 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:05:45 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:05:45 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:05:45 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:05:45 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:05:45 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:05:45 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:05:46 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:05:46 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:05:46 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:05:46 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:05:46 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:05:46 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:05:46 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:05:46 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:05:46 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:05:46 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:05:46 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:05:46 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:05:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:05:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:05:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:05:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:05:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:05:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:05:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:05:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:05:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:05:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:05:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:05:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:05:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:05:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:05:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:05:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:05:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:05:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:05:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:05:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:05:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:05:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:05:46 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:05:47 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:05:47 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:05:47 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:05:47 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:05:47 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:05:47 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:05:47 [info][yii\web\Session::open] Session started
2017-08-15 18:05:47 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:05:47 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:05:47 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:05:47 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7502', '2017-08-15 18:05:47')
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:05:47 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:05:47 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12853', '2017-08-15 18:05:47')
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:05:47 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:05:47 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6612', '2017-08-15 18:05:47')
2017-08-15 18:05:47 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7502', `time`='2017-08-15 18:05:47' WHERE `name`='longyanxiang'
2017-08-15 18:05:47 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12853', `time`='2017-08-15 18:05:47' WHERE `name`='yushi'
2017-08-15 18:05:47 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6612', `time`='2017-08-15 18:05:47' WHERE `name`='mila'
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:05:47 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:05:47 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:05:47 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:05:47 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:05:47 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:05:47 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:05:47 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:05:47 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:05:47 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:05:48 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:05:48 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:05:48 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:05:48 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:05:48 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:05:48 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:05:48 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:05:48 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:05:48 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:05:48 [info][yii\web\Session::open] Session started
2017-08-15 18:05:48 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:05:48 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:05:48 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:05:48 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:05:48 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:05:48 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:05:48 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:05:48 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:05:48 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:05:48 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:05:48 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7505', '2017-08-15 18:05:48')
2017-08-15 18:05:48 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:05:48 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:05:48 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:05:48 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:05:48 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:05:48 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:05:48 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12854', '2017-08-15 18:05:48')
2017-08-15 18:05:48 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:05:48 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:05:48 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:05:48 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:05:48 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:05:48 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:05:48 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6614', '2017-08-15 18:05:48')
2017-08-15 18:05:48 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7505', `time`='2017-08-15 18:05:48' WHERE `name`='longyanxiang'
2017-08-15 18:05:49 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12854', `time`='2017-08-15 18:05:48' WHERE `name`='yushi'
2017-08-15 18:05:49 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6614', `time`='2017-08-15 18:05:48' WHERE `name`='mila'
2017-08-15 18:05:49 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:05:49 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:05:49 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:05:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:05:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:05:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:05:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:05:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:05:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:05:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:05:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:05:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:05:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:05:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:05:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:05:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:05:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:05:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:05:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:05:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:05:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:05:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:05:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:05:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:05:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:05:49 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:05:49 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:05:49 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:05:49 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:05:49 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:05:49 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:05:49 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:05:49 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:05:49 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:05:49 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:05:49 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:05:49 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:05:49 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:05:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:05:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:05:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:05:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:05:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:05:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:05:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:05:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:05:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:05:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:05:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:05:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:05:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:05:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:05:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:05:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:05:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:05:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:05:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:05:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:05:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:05:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:05:49 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:05:50 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:05:50 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:05:50 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:05:50 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:05:50 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:05:50 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:05:50 [info][yii\web\Session::open] Session started
2017-08-15 18:05:50 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:05:50 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:05:50 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:05:50 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7505', '2017-08-15 18:05:50')
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:05:50 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:05:50 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12857', '2017-08-15 18:05:50')
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:05:50 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:05:50 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6615', '2017-08-15 18:05:50')
2017-08-15 18:05:50 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7505', `time`='2017-08-15 18:05:50' WHERE `name`='longyanxiang'
2017-08-15 18:05:50 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12857', `time`='2017-08-15 18:05:50' WHERE `name`='yushi'
2017-08-15 18:05:50 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6615', `time`='2017-08-15 18:05:50' WHERE `name`='mila'
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:05:50 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:05:50 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:05:50 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:05:50 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:05:50 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:05:50 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:05:50 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:05:50 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:05:50 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:05:52 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:05:52 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:05:52 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:05:52 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:05:52 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:05:52 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:05:52 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:05:52 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:05:52 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:05:52 [info][yii\web\Session::open] Session started
2017-08-15 18:05:52 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:05:52 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:05:52 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:05:52 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:05:52 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:05:52 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:05:52 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:05:52 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:05:52 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:05:52 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:05:52 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7503', '2017-08-15 18:05:52')
2017-08-15 18:05:52 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:05:52 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:05:52 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:05:52 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:05:52 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:05:52 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:05:52 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12857', '2017-08-15 18:05:52')
2017-08-15 18:05:52 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:05:52 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:05:52 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:05:52 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:05:52 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:05:52 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:05:52 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6617', '2017-08-15 18:05:52')
2017-08-15 18:05:52 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7503', `time`='2017-08-15 18:05:52' WHERE `name`='longyanxiang'
2017-08-15 18:05:52 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12857', `time`='2017-08-15 18:05:52' WHERE `name`='yushi'
2017-08-15 18:05:52 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6617', `time`='2017-08-15 18:05:52' WHERE `name`='mila'
2017-08-15 18:05:52 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:05:52 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:05:52 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:05:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:05:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:05:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:05:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:05:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:05:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:05:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:05:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:05:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:05:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:05:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:05:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:05:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:05:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:05:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:05:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:05:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:05:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:05:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:05:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:05:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:05:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:05:52 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:05:52 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:05:52 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:05:52 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:05:52 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:05:52 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:05:52 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:05:52 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:05:52 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:05:52 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:05:53 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:05:53 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:05:53 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:05:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:05:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:05:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:05:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:05:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:05:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:05:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:05:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:05:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:05:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:05:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:05:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:05:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:05:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:05:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:05:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:05:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:05:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:05:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:05:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:05:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:05:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:05:53 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:05:54 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:05:54 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:05:54 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:05:54 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:05:54 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:05:54 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:05:54 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:05:54 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:05:54 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:05:54 [info][yii\web\Session::open] Session started
2017-08-15 18:05:54 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:05:54 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:05:54 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:05:54 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:05:55 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:05:55 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:05:55 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:05:55 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:05:55 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:05:55 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:05:55 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7503', '2017-08-15 18:05:55')
2017-08-15 18:05:55 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:05:55 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:05:55 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:05:55 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:05:55 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:05:55 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:05:55 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12854', '2017-08-15 18:05:55')
2017-08-15 18:05:55 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:05:55 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:05:55 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:05:55 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:05:55 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:05:55 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:05:55 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6616', '2017-08-15 18:05:55')
2017-08-15 18:05:55 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7503', `time`='2017-08-15 18:05:55' WHERE `name`='longyanxiang'
2017-08-15 18:05:55 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12854', `time`='2017-08-15 18:05:55' WHERE `name`='yushi'
2017-08-15 18:05:55 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6616', `time`='2017-08-15 18:05:55' WHERE `name`='mila'
2017-08-15 18:05:55 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:05:55 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:05:55 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:05:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:05:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:05:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:05:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:05:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:05:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:05:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:05:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:05:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:05:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:05:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:05:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:05:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:05:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:05:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:05:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:05:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:05:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:05:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:05:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:05:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:05:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:05:55 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:05:55 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:05:55 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:05:55 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:05:55 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:05:55 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:05:55 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:05:55 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:05:55 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:05:55 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:05:55 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:05:55 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:05:55 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:05:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:05:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:05:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:05:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:05:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:05:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:05:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:05:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:05:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:05:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:05:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:05:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:05:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:05:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:05:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:05:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:05:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:05:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:05:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:05:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:05:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:05:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:05:55 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:05:56 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:05:56 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:05:56 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:05:56 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:05:56 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:05:56 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:05:56 [info][yii\web\Session::open] Session started
2017-08-15 18:05:56 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:05:56 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:05:56 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:05:56 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7500', '2017-08-15 18:05:56')
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:05:56 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:05:56 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12853', '2017-08-15 18:05:56')
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:05:56 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:05:56 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6618', '2017-08-15 18:05:56')
2017-08-15 18:05:56 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7500', `time`='2017-08-15 18:05:56' WHERE `name`='longyanxiang'
2017-08-15 18:05:56 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12853', `time`='2017-08-15 18:05:56' WHERE `name`='yushi'
2017-08-15 18:05:56 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6618', `time`='2017-08-15 18:05:56' WHERE `name`='mila'
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:05:56 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:05:56 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:05:56 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:05:56 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:05:56 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:05:56 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:05:56 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:05:56 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:05:56 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:05:58 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:05:58 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:05:58 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:05:58 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:05:58 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:05:58 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:05:58 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:05:58 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:05:58 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:05:58 [info][yii\web\Session::open] Session started
2017-08-15 18:05:58 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:05:58 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:05:58 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:05:58 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:05:58 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:05:58 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:05:58 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:05:58 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:05:58 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:05:58 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:05:58 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7498', '2017-08-15 18:05:58')
2017-08-15 18:05:58 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:05:58 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:05:58 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:05:58 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:05:58 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:05:58 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:05:58 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12853', '2017-08-15 18:05:58')
2017-08-15 18:05:58 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:05:58 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:05:58 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:05:58 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:05:58 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:05:58 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:05:58 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6618', '2017-08-15 18:05:58')
2017-08-15 18:05:58 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7498', `time`='2017-08-15 18:05:58' WHERE `name`='longyanxiang'
2017-08-15 18:05:58 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12853', `time`='2017-08-15 18:05:58' WHERE `name`='yushi'
2017-08-15 18:05:58 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6618', `time`='2017-08-15 18:05:58' WHERE `name`='mila'
2017-08-15 18:05:58 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:05:58 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:05:58 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:05:58 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:05:58 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:05:58 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:05:58 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:05:58 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:05:58 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:05:58 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:05:58 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:05:58 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:05:58 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:05:58 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:05:58 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:05:58 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:05:58 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:05:58 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:05:58 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:05:58 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:05:58 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:05:58 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:05:58 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:05:58 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:05:58 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:05:58 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:05:58 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:05:58 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:05:58 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:05:58 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:05:58 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:05:58 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:05:58 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:05:58 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:05:58 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:06:01 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:06:01 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:06:01 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:06:01 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:06:01 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:06:01 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:06:01 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:06:01 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:06:01 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:06:01 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:06:01 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:06:01 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:06:01 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:06:01 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:06:01 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:06:01 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:06:01 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:06:01 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:06:01 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:06:01 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:06:01 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:06:01 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:06:01 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:06:01 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:06:01 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:06:01 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:06:02 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:06:02 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:06:02 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:06:02 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:06:02 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:06:02 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:06:02 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:06:02 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:06:02 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:06:02 [info][yii\web\Session::open] Session started
2017-08-15 18:06:02 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:06:02 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:06:02 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:06:02 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:06:02 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:06:02 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:06:02 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:06:02 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:06:02 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:06:02 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:06:02 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7498', '2017-08-15 18:06:02')
2017-08-15 18:06:02 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:06:02 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:06:02 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:06:02 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:06:02 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:06:02 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:06:02 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12852', '2017-08-15 18:06:02')
2017-08-15 18:06:02 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:06:02 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:06:02 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:06:02 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:06:02 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:06:02 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:06:02 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6620', '2017-08-15 18:06:02')
2017-08-15 18:06:02 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7498', `time`='2017-08-15 18:06:02' WHERE `name`='longyanxiang'
2017-08-15 18:06:02 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12852', `time`='2017-08-15 18:06:02' WHERE `name`='yushi'
2017-08-15 18:06:02 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6620', `time`='2017-08-15 18:06:02' WHERE `name`='mila'
2017-08-15 18:06:02 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:06:02 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:06:02 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:06:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:06:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:06:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:06:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:06:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:06:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:06:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:06:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:06:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:06:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:06:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:06:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:06:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:06:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:06:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:06:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:06:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:06:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:06:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:06:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:06:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:06:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:06:02 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:06:02 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:06:02 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:06:02 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:06:02 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:06:02 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:06:02 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:06:02 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:06:02 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:06:02 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:06:02 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:06:02 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:06:02 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:06:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:06:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:06:03 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:06:03 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:06:03 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:06:03 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:06:03 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:06:03 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:06:03 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:06:03 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:06:03 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:06:03 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:06:03 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:06:03 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:06:03 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:06:03 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:06:03 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:06:03 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:06:03 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:06:03 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:06:03 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:06:03 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:06:03 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:06:04 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:06:04 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:06:04 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:06:04 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:06:04 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:06:04 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:06:04 [info][yii\web\Session::open] Session started
2017-08-15 18:06:04 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:06:04 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:06:04 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:06:04 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7496', '2017-08-15 18:06:04')
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:06:04 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:06:04 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12854', '2017-08-15 18:06:04')
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:06:04 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:06:04 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6618', '2017-08-15 18:06:04')
2017-08-15 18:06:04 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7496', `time`='2017-08-15 18:06:04' WHERE `name`='longyanxiang'
2017-08-15 18:06:04 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12854', `time`='2017-08-15 18:06:04' WHERE `name`='yushi'
2017-08-15 18:06:04 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6618', `time`='2017-08-15 18:06:04' WHERE `name`='mila'
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:06:04 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:06:04 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:06:04 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:06:04 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:06:04 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:06:04 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:06:04 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:06:04 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:06:04 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:06:05 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:06:05 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:06:05 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:06:05 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:06:05 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:06:05 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:06:05 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:06:05 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:06:05 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:06:05 [info][yii\web\Session::open] Session started
2017-08-15 18:06:05 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:06:05 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:06:05 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:06:05 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:06:05 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:06:05 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:06:05 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:06:05 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:06:05 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:06:05 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:06:05 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7499', '2017-08-15 18:06:05')
2017-08-15 18:06:05 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:06:05 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:06:05 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:06:05 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:06:05 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:06:05 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:06:05 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12857', '2017-08-15 18:06:05')
2017-08-15 18:06:05 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:06:05 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:06:05 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:06:05 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:06:05 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:06:05 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:06:05 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6617', '2017-08-15 18:06:05')
2017-08-15 18:06:05 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7499', `time`='2017-08-15 18:06:05' WHERE `name`='longyanxiang'
2017-08-15 18:06:05 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12857', `time`='2017-08-15 18:06:05' WHERE `name`='yushi'
2017-08-15 18:06:05 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6617', `time`='2017-08-15 18:06:05' WHERE `name`='mila'
2017-08-15 18:06:05 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:06:05 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:06:05 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:06:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:06:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:06:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:06:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:06:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:06:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:06:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:06:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:06:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:06:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:06:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:06:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:06:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:06:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:06:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:06:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:06:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:06:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:06:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:06:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:06:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:06:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:06:05 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:06:06 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:06:06 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:06:06 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:06:06 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:06:06 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:06:06 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:06:06 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:06:06 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:06:06 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:06:26 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:06:26 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:06:26 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:06:26 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:06:26 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:06:26 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:06:26 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:06:26 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:06:26 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:06:26 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:06:26 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:06:26 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:06:26 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:06:26 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:06:26 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:06:26 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:06:26 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:06:26 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:06:26 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:06:26 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:06:26 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:06:26 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:06:26 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:06:26 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:06:26 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:06:26 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:06:27 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:06:27 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:06:27 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:06:27 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:06:27 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:06:27 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:06:27 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:06:27 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:06:27 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:06:27 [info][yii\web\Session::open] Session started
2017-08-15 18:06:27 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:06:27 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:06:27 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:06:27 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:06:27 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:06:27 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:06:27 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:06:27 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:06:27 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:06:27 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:06:27 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7501', '2017-08-15 18:06:27')
2017-08-15 18:06:27 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:06:27 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:06:27 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:06:27 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:06:27 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:06:27 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:06:27 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12856', '2017-08-15 18:06:27')
2017-08-15 18:06:27 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:06:27 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:06:27 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:06:27 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:06:27 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:06:27 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:06:27 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6615', '2017-08-15 18:06:27')
2017-08-15 18:06:27 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7501', `time`='2017-08-15 18:06:27' WHERE `name`='longyanxiang'
2017-08-15 18:06:27 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12856', `time`='2017-08-15 18:06:27' WHERE `name`='yushi'
2017-08-15 18:06:27 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6615', `time`='2017-08-15 18:06:27' WHERE `name`='mila'
2017-08-15 18:06:27 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:06:27 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:06:27 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:06:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:06:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:06:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:06:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:06:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:06:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:06:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:06:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:06:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:06:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:06:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:06:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:06:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:06:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:06:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:06:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:06:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:06:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:06:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:06:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:06:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:06:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:06:27 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:06:27 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:06:27 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:06:27 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:06:27 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:06:27 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:06:27 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:06:27 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:06:27 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:06:27 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:06:27 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:06:27 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:06:27 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:06:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:06:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:06:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:06:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:06:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:06:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:06:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:06:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:06:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:06:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:06:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:06:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:06:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:06:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:06:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:06:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:06:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:06:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:06:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:06:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:06:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:06:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:06:28 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:06:29 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:06:29 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:06:29 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:06:29 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:06:29 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:06:29 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:06:29 [info][yii\web\Session::open] Session started
2017-08-15 18:06:29 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:06:29 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:06:29 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:06:29 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7499', '2017-08-15 18:06:29')
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:06:29 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:06:29 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12852', '2017-08-15 18:06:29')
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:06:29 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:06:29 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6616', '2017-08-15 18:06:29')
2017-08-15 18:06:29 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7499', `time`='2017-08-15 18:06:29' WHERE `name`='longyanxiang'
2017-08-15 18:06:29 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12852', `time`='2017-08-15 18:06:29' WHERE `name`='yushi'
2017-08-15 18:06:29 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6616', `time`='2017-08-15 18:06:29' WHERE `name`='mila'
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:06:29 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:06:29 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:06:29 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:06:29 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:06:29 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:06:29 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:06:29 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:06:29 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:06:29 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:06:30 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:06:30 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:06:30 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:06:30 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:06:30 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:06:30 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:06:30 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:06:30 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:06:30 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:06:30 [info][yii\web\Session::open] Session started
2017-08-15 18:06:30 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:06:30 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:06:30 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:06:30 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:06:30 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:06:30 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:06:30 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:06:30 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:06:30 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:06:30 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:06:30 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7502', '2017-08-15 18:06:30')
2017-08-15 18:06:30 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:06:30 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:06:30 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:06:30 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:06:30 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:06:30 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:06:30 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12854', '2017-08-15 18:06:30')
2017-08-15 18:06:30 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:06:30 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:06:30 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:06:30 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:06:30 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:06:30 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:06:30 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6614', '2017-08-15 18:06:30')
2017-08-15 18:06:30 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7502', `time`='2017-08-15 18:06:30' WHERE `name`='longyanxiang'
2017-08-15 18:06:30 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12854', `time`='2017-08-15 18:06:30' WHERE `name`='yushi'
2017-08-15 18:06:30 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6614', `time`='2017-08-15 18:06:30' WHERE `name`='mila'
2017-08-15 18:06:30 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:06:30 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:06:30 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:06:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:06:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:06:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:06:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:06:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:06:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:06:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:06:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:06:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:06:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:06:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:06:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:06:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:06:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:06:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:06:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:06:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:06:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:06:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:06:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:06:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:06:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:06:31 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:06:31 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:06:31 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:06:31 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:06:31 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:06:31 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:06:31 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:06:31 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:06:31 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:06:31 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:06:31 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:06:31 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:06:31 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:06:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:06:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:06:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:06:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:06:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:06:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:06:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:06:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:06:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:06:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:06:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:06:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:06:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:06:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:06:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:06:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:06:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:06:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:06:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:06:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:06:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:06:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:06:31 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:06:32 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:06:32 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:06:32 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:06:32 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:06:32 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:06:32 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:06:32 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:06:32 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:06:32 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:06:32 [info][yii\web\Session::open] Session started
2017-08-15 18:06:32 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:06:32 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:06:32 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:06:32 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:06:32 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:06:32 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:06:32 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:06:32 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:06:32 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:06:32 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:06:32 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7505', '2017-08-15 18:06:32')
2017-08-15 18:06:32 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:06:32 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:06:32 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:06:32 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:06:32 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:06:32 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:06:32 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12852', '2017-08-15 18:06:32')
2017-08-15 18:06:32 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:06:32 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:06:32 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:06:32 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:06:32 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:06:32 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:06:32 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6615', '2017-08-15 18:06:32')
2017-08-15 18:06:32 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7505', `time`='2017-08-15 18:06:32' WHERE `name`='longyanxiang'
2017-08-15 18:06:32 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12852', `time`='2017-08-15 18:06:32' WHERE `name`='yushi'
2017-08-15 18:06:32 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6615', `time`='2017-08-15 18:06:32' WHERE `name`='mila'
2017-08-15 18:06:32 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:06:32 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:06:32 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:06:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:06:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:06:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:06:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:06:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:06:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:06:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:06:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:06:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:06:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:06:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:06:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:06:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:06:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:06:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:06:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:06:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:06:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:06:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:06:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:06:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:06:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:06:32 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:06:32 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:06:32 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:06:32 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:06:32 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:06:32 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:06:32 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:06:32 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:06:32 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:06:32 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:06:32 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:06:32 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:06:32 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:06:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:06:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:06:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:06:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:06:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:06:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:06:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:06:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:06:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:06:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:06:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:06:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:06:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:06:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:06:33 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:06:33 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:06:33 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:06:33 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:06:33 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:06:33 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:06:33 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:06:33 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:06:33 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:06:34 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:06:34 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:06:34 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:06:34 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:06:34 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:06:34 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:06:34 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:06:34 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:06:34 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:06:34 [info][yii\web\Session::open] Session started
2017-08-15 18:06:34 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:06:34 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:06:34 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:06:34 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:06:34 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:06:34 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:06:34 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:06:34 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:06:34 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:06:34 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:06:34 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7502', '2017-08-15 18:06:34')
2017-08-15 18:06:34 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:06:34 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:06:34 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:06:34 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:06:34 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:06:34 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:06:34 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12851', '2017-08-15 18:06:34')
2017-08-15 18:06:34 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:06:34 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:06:34 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:06:34 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:06:34 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:06:34 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:06:34 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6617', '2017-08-15 18:06:34')
2017-08-15 18:06:34 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7502', `time`='2017-08-15 18:06:34' WHERE `name`='longyanxiang'
2017-08-15 18:06:34 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12851', `time`='2017-08-15 18:06:34' WHERE `name`='yushi'
2017-08-15 18:06:34 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6617', `time`='2017-08-15 18:06:34' WHERE `name`='mila'
2017-08-15 18:06:34 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:06:34 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:06:34 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:06:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:06:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:06:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:06:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:06:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:06:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:06:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:06:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:06:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:06:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:06:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:06:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:06:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:06:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:06:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:06:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:06:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:06:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:06:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:06:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:06:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:06:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:06:34 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:06:34 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:06:34 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:06:34 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:06:34 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:06:34 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:06:34 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:06:34 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:06:34 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:06:34 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:06:35 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:06:35 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:06:35 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:06:35 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:06:35 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:06:35 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:06:35 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:06:35 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:06:35 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:06:35 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:06:35 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:06:35 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:06:35 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:06:35 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:06:35 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:06:35 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:06:35 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:06:35 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:06:35 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:06:35 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:06:35 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:06:35 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:06:35 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:06:35 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:06:35 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:06:35 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:06:36 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:06:36 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:06:36 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:06:36 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:06:36 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:06:36 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:06:36 [info][yii\web\Session::open] Session started
2017-08-15 18:06:36 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:06:36 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:06:36 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:06:36 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7503', '2017-08-15 18:06:36')
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:06:36 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:06:36 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12848', '2017-08-15 18:06:36')
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:06:36 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:06:36 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6617', '2017-08-15 18:06:36')
2017-08-15 18:06:36 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7503', `time`='2017-08-15 18:06:36' WHERE `name`='longyanxiang'
2017-08-15 18:06:36 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12848', `time`='2017-08-15 18:06:36' WHERE `name`='yushi'
2017-08-15 18:06:36 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6617', `time`='2017-08-15 18:06:36' WHERE `name`='mila'
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:06:36 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:06:36 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:06:36 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:06:36 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:06:36 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:06:36 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:06:36 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:06:36 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:06:36 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:06:37 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:06:37 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:06:37 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:06:37 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:06:37 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:06:37 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:06:37 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:06:37 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:06:37 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:06:37 [info][yii\web\Session::open] Session started
2017-08-15 18:06:37 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:06:37 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:06:37 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:06:37 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:06:37 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:06:37 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:06:37 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:06:37 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:06:37 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:06:37 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:06:37 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7502', '2017-08-15 18:06:37')
2017-08-15 18:06:38 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:06:38 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:06:38 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:06:38 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:06:38 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:06:38 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:06:38 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12845', '2017-08-15 18:06:38')
2017-08-15 18:06:38 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:06:38 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:06:38 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:06:38 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:06:38 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:06:38 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:06:38 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6618', '2017-08-15 18:06:38')
2017-08-15 18:06:38 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7502', `time`='2017-08-15 18:06:37' WHERE `name`='longyanxiang'
2017-08-15 18:06:38 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12845', `time`='2017-08-15 18:06:38' WHERE `name`='yushi'
2017-08-15 18:06:38 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6618', `time`='2017-08-15 18:06:38' WHERE `name`='mila'
2017-08-15 18:06:38 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:06:38 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:06:38 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:06:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:06:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:06:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:06:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:06:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:06:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:06:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:06:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:06:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:06:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:06:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:06:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:06:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:06:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:06:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:06:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:06:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:06:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:06:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:06:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:06:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:06:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:06:38 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:06:38 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:06:38 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:06:38 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:06:38 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:06:38 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:06:38 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:06:38 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:06:38 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:06:38 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:06:38 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:06:38 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:06:38 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:06:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:06:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:06:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:06:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:06:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:06:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:06:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:06:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:06:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:06:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:06:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:06:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:06:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:06:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:06:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:06:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:06:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:06:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:06:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:06:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:06:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:06:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:06:38 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:06:39 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:06:39 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:06:39 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:06:39 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:06:39 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:06:39 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:06:39 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:06:39 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:06:39 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:06:39 [info][yii\web\Session::open] Session started
2017-08-15 18:06:39 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:06:39 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:06:39 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:06:39 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:06:39 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:06:39 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:06:39 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:06:39 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:06:39 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:06:39 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:06:39 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7503', '2017-08-15 18:06:39')
2017-08-15 18:06:39 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:06:39 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:06:39 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:06:39 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:06:39 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:06:39 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:06:39 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12848', '2017-08-15 18:06:39')
2017-08-15 18:06:39 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:06:39 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:06:39 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:06:39 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:06:39 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:06:39 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:06:39 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6616', '2017-08-15 18:06:39')
2017-08-15 18:06:39 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7503', `time`='2017-08-15 18:06:39' WHERE `name`='longyanxiang'
2017-08-15 18:06:39 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12848', `time`='2017-08-15 18:06:39' WHERE `name`='yushi'
2017-08-15 18:06:39 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6616', `time`='2017-08-15 18:06:39' WHERE `name`='mila'
2017-08-15 18:06:39 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:06:39 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:06:39 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:06:39 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:06:39 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:06:39 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:06:39 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:06:39 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:06:39 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:06:39 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:06:39 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:06:39 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:06:39 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:06:39 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:06:39 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:06:39 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:06:39 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:06:39 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:06:39 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:06:39 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:06:39 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:06:39 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:06:39 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:06:39 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:06:39 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:06:39 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:06:39 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:06:39 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:06:39 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:06:39 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:06:39 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:06:39 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:06:39 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:06:39 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:06:39 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:06:41 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:06:41 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:06:41 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:06:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:06:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:06:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:06:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:06:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:06:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:06:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:06:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:06:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:06:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:06:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:06:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:06:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:06:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:06:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:06:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:06:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:06:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:06:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:06:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:06:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:06:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:06:41 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:06:42 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:06:42 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:06:42 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:06:42 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:06:42 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:06:42 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:06:42 [info][yii\web\Session::open] Session started
2017-08-15 18:06:42 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:06:42 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:06:42 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:06:42 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7506', '2017-08-15 18:06:42')
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:06:42 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:06:42 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12848', '2017-08-15 18:06:42')
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:06:42 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:06:42 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6614', '2017-08-15 18:06:42')
2017-08-15 18:06:42 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7506', `time`='2017-08-15 18:06:42' WHERE `name`='longyanxiang'
2017-08-15 18:06:42 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12848', `time`='2017-08-15 18:06:42' WHERE `name`='yushi'
2017-08-15 18:06:42 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6614', `time`='2017-08-15 18:06:42' WHERE `name`='mila'
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:06:42 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:06:42 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:06:42 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:06:42 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:06:42 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:06:42 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:06:42 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:06:42 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:06:42 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:06:44 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:06:44 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:06:44 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:06:44 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:06:44 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:06:44 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:06:44 [info][yii\web\Session::open] Session started
2017-08-15 18:06:44 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:06:44 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:06:44 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:06:44 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7503', '2017-08-15 18:06:44')
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:06:44 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:06:44 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12852', '2017-08-15 18:06:44')
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:06:44 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:06:44 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6614', '2017-08-15 18:06:44')
2017-08-15 18:06:44 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7503', `time`='2017-08-15 18:06:44' WHERE `name`='longyanxiang'
2017-08-15 18:06:44 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12852', `time`='2017-08-15 18:06:44' WHERE `name`='yushi'
2017-08-15 18:06:44 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6614', `time`='2017-08-15 18:06:44' WHERE `name`='mila'
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:06:44 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:06:44 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:06:44 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:06:44 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:06:44 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:06:44 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:06:44 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:06:44 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:06:44 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:06:45 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:06:45 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:06:45 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:06:45 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:06:45 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:06:45 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:06:45 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:06:45 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:06:45 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:06:45 [info][yii\web\Session::open] Session started
2017-08-15 18:06:45 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:06:45 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:06:45 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:06:45 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:06:45 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:06:45 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:06:45 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:06:45 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:06:45 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:06:45 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:06:45 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7502', '2017-08-15 18:06:45')
2017-08-15 18:06:45 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:06:45 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:06:45 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:06:45 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:06:45 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:06:45 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:06:45 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12848', '2017-08-15 18:06:45')
2017-08-15 18:06:45 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:06:45 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:06:45 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:06:45 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:06:45 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:06:45 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:06:45 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6614', '2017-08-15 18:06:45')
2017-08-15 18:06:45 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7502', `time`='2017-08-15 18:06:45' WHERE `name`='longyanxiang'
2017-08-15 18:06:45 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12848', `time`='2017-08-15 18:06:45' WHERE `name`='yushi'
2017-08-15 18:06:45 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6614', `time`='2017-08-15 18:06:45' WHERE `name`='mila'
2017-08-15 18:06:45 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:06:45 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:06:45 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:06:45 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:06:45 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:06:45 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:06:45 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:06:45 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:06:45 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:06:45 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:06:45 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:06:45 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:06:45 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:06:45 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:06:45 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:06:45 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:06:45 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:06:45 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:06:45 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:06:45 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:06:45 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:06:45 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:06:45 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:06:45 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:06:45 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:06:45 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:06:46 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:06:46 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:06:46 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:06:46 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:06:46 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:06:46 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:06:46 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:06:46 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:06:46 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:06:47 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:06:47 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:06:47 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:06:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:06:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:06:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:06:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:06:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:06:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:06:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:06:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:06:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:06:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:06:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:06:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:06:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:06:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:06:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:06:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:06:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:06:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:06:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:06:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:06:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:06:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:06:47 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:06:48 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:06:48 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:06:48 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:06:48 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:06:48 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:06:48 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:06:48 [info][yii\web\Session::open] Session started
2017-08-15 18:06:48 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:06:48 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:06:48 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:06:48 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7504', '2017-08-15 18:06:48')
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:06:48 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:06:48 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12845', '2017-08-15 18:06:48')
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:06:48 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:06:48 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6612', '2017-08-15 18:06:48')
2017-08-15 18:06:48 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7504', `time`='2017-08-15 18:06:48' WHERE `name`='longyanxiang'
2017-08-15 18:06:48 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12845', `time`='2017-08-15 18:06:48' WHERE `name`='yushi'
2017-08-15 18:06:48 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6612', `time`='2017-08-15 18:06:48' WHERE `name`='mila'
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:06:48 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:06:48 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:06:48 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:06:48 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:06:48 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:06:48 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:06:48 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:06:48 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:06:48 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:06:49 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:06:49 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:06:49 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:06:49 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:06:50 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:06:50 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:06:50 [info][yii\web\Session::open] Session started
2017-08-15 18:06:50 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:06:50 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:06:50 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:06:50 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7502', '2017-08-15 18:06:50')
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:06:50 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:06:50 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12845', '2017-08-15 18:06:50')
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:06:50 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:06:50 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6614', '2017-08-15 18:06:50')
2017-08-15 18:06:50 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7502', `time`='2017-08-15 18:06:50' WHERE `name`='longyanxiang'
2017-08-15 18:06:50 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12845', `time`='2017-08-15 18:06:50' WHERE `name`='yushi'
2017-08-15 18:06:50 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6614', `time`='2017-08-15 18:06:50' WHERE `name`='mila'
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:06:50 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:06:50 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:06:50 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:06:50 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:06:50 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:06:50 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:06:50 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:06:50 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:06:50 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:06:51 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:06:51 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:06:51 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:06:51 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:06:51 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:06:51 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:06:51 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:06:51 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:06:51 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:06:51 [info][yii\web\Session::open] Session started
2017-08-15 18:06:51 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:06:51 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:06:51 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:06:51 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:06:51 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:06:51 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:06:51 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:06:51 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:06:51 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:06:51 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:06:51 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7499', '2017-08-15 18:06:51')
2017-08-15 18:06:51 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:06:51 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:06:51 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:06:51 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:06:51 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:06:51 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:06:51 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12843', '2017-08-15 18:06:51')
2017-08-15 18:06:51 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:06:51 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:06:51 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:06:51 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:06:51 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:06:51 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:06:51 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6613', '2017-08-15 18:06:51')
2017-08-15 18:06:51 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7499', `time`='2017-08-15 18:06:51' WHERE `name`='longyanxiang'
2017-08-15 18:06:51 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12843', `time`='2017-08-15 18:06:51' WHERE `name`='yushi'
2017-08-15 18:06:51 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6613', `time`='2017-08-15 18:06:51' WHERE `name`='mila'
2017-08-15 18:06:51 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:06:51 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:06:51 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:06:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:06:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:06:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:06:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:06:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:06:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:06:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:06:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:06:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:06:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:06:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:06:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:06:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:06:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:06:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:06:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:06:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:06:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:06:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:06:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:06:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:06:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:06:51 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:06:51 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:06:51 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:06:51 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:06:51 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:06:51 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:06:51 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:06:51 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:06:51 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:06:51 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:07:11 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:07:11 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:07:11 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:07:11 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:07:11 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:07:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:07:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:07:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:07:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:07:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:07:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:07:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:07:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:07:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:07:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:07:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:07:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:07:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:07:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:07:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:07:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:07:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:07:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:07:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:07:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:07:12 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:07:13 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:07:13 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:07:13 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:07:13 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:07:13 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:07:13 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:07:13 [info][yii\web\Session::open] Session started
2017-08-15 18:07:13 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:07:13 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:07:13 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:07:13 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7497', '2017-08-15 18:07:13')
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:07:13 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:07:13 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12844', '2017-08-15 18:07:13')
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:07:13 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:07:13 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6612', '2017-08-15 18:07:13')
2017-08-15 18:07:13 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7497', `time`='2017-08-15 18:07:13' WHERE `name`='longyanxiang'
2017-08-15 18:07:13 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12844', `time`='2017-08-15 18:07:13' WHERE `name`='yushi'
2017-08-15 18:07:13 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6612', `time`='2017-08-15 18:07:13' WHERE `name`='mila'
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:07:13 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:07:13 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:07:13 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:07:13 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:07:13 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:07:13 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:07:13 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:07:13 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:07:13 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:07:14 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:07:14 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:07:14 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:07:14 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:07:14 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:07:14 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:07:14 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:07:14 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:07:14 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:07:14 [info][yii\web\Session::open] Session started
2017-08-15 18:07:14 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:07:14 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:07:14 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:07:14 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:07:14 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:07:14 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:07:14 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:07:14 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:07:14 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:07:14 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:07:14 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7498', '2017-08-15 18:07:14')
2017-08-15 18:07:14 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:07:14 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:07:14 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:07:14 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:07:14 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:07:14 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:07:14 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12843', '2017-08-15 18:07:14')
2017-08-15 18:07:14 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:07:14 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:07:14 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:07:14 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:07:14 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:07:14 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:07:14 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6610', '2017-08-15 18:07:14')
2017-08-15 18:07:14 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7498', `time`='2017-08-15 18:07:14' WHERE `name`='longyanxiang'
2017-08-15 18:07:14 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12843', `time`='2017-08-15 18:07:14' WHERE `name`='yushi'
2017-08-15 18:07:14 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6610', `time`='2017-08-15 18:07:14' WHERE `name`='mila'
2017-08-15 18:07:14 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:07:14 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:07:14 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:07:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:07:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:07:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:07:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:07:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:07:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:07:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:07:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:07:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:07:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:07:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:07:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:07:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:07:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:07:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:07:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:07:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:07:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:07:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:07:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:07:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:07:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:07:14 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:07:15 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:07:15 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:07:15 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:07:15 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:07:15 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:07:15 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:07:15 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:07:15 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:07:15 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:07:35 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:07:35 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:07:35 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:07:35 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:07:35 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:07:35 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:07:35 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:07:35 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:07:35 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:07:35 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:07:35 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:07:35 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:07:35 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:07:35 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:07:35 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:07:35 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:07:35 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:07:35 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:07:35 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:07:35 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:07:35 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:07:35 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:07:35 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:07:35 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:07:35 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:07:35 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:07:36 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:07:36 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:07:36 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:07:36 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:07:36 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:07:36 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:07:36 [info][yii\web\Session::open] Session started
2017-08-15 18:07:36 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:07:36 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:07:36 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:07:36 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7497', '2017-08-15 18:07:36')
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:07:36 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:07:36 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12844', '2017-08-15 18:07:36')
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:07:36 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:07:36 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6611', '2017-08-15 18:07:36')
2017-08-15 18:07:36 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7497', `time`='2017-08-15 18:07:36' WHERE `name`='longyanxiang'
2017-08-15 18:07:36 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12844', `time`='2017-08-15 18:07:36' WHERE `name`='yushi'
2017-08-15 18:07:36 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6611', `time`='2017-08-15 18:07:36' WHERE `name`='mila'
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:07:36 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:07:36 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:07:36 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:07:36 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:07:36 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:07:36 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:07:36 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:07:36 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:07:36 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:07:37 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:07:37 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:07:37 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:07:37 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:07:37 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:07:37 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:07:37 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:07:37 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:07:37 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:07:37 [info][yii\web\Session::open] Session started
2017-08-15 18:07:37 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:07:37 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:07:38 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:07:38 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:07:38 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7495', '2017-08-15 18:07:38')
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:07:38 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:07:38 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12842', '2017-08-15 18:07:38')
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:07:38 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:07:38 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6611', '2017-08-15 18:07:38')
2017-08-15 18:07:38 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7495', `time`='2017-08-15 18:07:38' WHERE `name`='longyanxiang'
2017-08-15 18:07:38 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12842', `time`='2017-08-15 18:07:38' WHERE `name`='yushi'
2017-08-15 18:07:38 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6611', `time`='2017-08-15 18:07:38' WHERE `name`='mila'
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:07:38 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:07:38 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:07:38 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:07:38 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:07:38 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:07:38 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:07:38 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:07:38 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:07:38 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:07:39 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:07:39 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:07:39 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:07:39 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:07:39 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:07:39 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:07:39 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:07:39 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:07:39 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:07:39 [info][yii\web\Session::open] Session started
2017-08-15 18:07:39 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:07:39 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:07:39 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:07:39 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:07:39 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:07:39 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:07:39 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:07:39 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:07:39 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:07:39 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:07:39 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7495', '2017-08-15 18:07:39')
2017-08-15 18:07:39 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:07:39 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:07:39 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:07:39 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:07:39 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:07:39 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:07:39 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12845', '2017-08-15 18:07:39')
2017-08-15 18:07:39 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:07:39 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:07:39 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:07:39 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:07:39 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:07:39 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:07:39 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6610', '2017-08-15 18:07:39')
2017-08-15 18:07:39 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7495', `time`='2017-08-15 18:07:39' WHERE `name`='longyanxiang'
2017-08-15 18:07:39 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12845', `time`='2017-08-15 18:07:39' WHERE `name`='yushi'
2017-08-15 18:07:39 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6610', `time`='2017-08-15 18:07:39' WHERE `name`='mila'
2017-08-15 18:07:39 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:07:39 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:07:39 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:07:39 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:07:39 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:07:39 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:07:39 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:07:39 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:07:39 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:07:39 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:07:39 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:07:39 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:07:39 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:07:39 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:07:39 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:07:39 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:07:39 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:07:39 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:07:39 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:07:39 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:07:39 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:07:39 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:07:39 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:07:39 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:07:39 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:07:39 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:07:39 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:07:39 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:07:39 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:07:39 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:07:39 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:07:39 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:07:40 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:07:40 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:07:40 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:07:41 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:07:41 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:07:41 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:07:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:07:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:07:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:07:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:07:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:07:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:07:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:07:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:07:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:07:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:07:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:07:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:07:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:07:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:07:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:07:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:07:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:07:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:07:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:07:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:07:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:07:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:07:41 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:07:42 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:07:42 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:07:42 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:07:42 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:07:42 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:07:42 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:07:42 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:07:42 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:07:42 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:07:42 [info][yii\web\Session::open] Session started
2017-08-15 18:07:42 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:07:42 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:07:42 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:07:42 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:07:42 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:07:42 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:07:42 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:07:42 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:07:42 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:07:42 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:07:42 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7496', '2017-08-15 18:07:42')
2017-08-15 18:07:42 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:07:42 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:07:42 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:07:42 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:07:42 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:07:42 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:07:42 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12849', '2017-08-15 18:07:42')
2017-08-15 18:07:42 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:07:42 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:07:42 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:07:42 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:07:42 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:07:42 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:07:42 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6612', '2017-08-15 18:07:42')
2017-08-15 18:07:42 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7496', `time`='2017-08-15 18:07:42' WHERE `name`='longyanxiang'
2017-08-15 18:07:42 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12849', `time`='2017-08-15 18:07:42' WHERE `name`='yushi'
2017-08-15 18:07:42 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6612', `time`='2017-08-15 18:07:42' WHERE `name`='mila'
2017-08-15 18:07:42 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:07:42 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:07:42 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:07:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:07:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:07:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:07:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:07:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:07:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:07:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:07:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:07:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:07:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:07:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:07:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:07:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:07:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:07:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:07:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:07:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:07:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:07:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:07:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:07:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:07:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:07:43 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:07:43 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:07:43 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:07:43 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:07:43 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:07:43 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:07:43 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:07:43 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:07:43 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:07:43 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:07:43 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:07:43 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:07:43 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:07:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:07:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:07:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:07:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:07:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:07:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:07:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:07:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:07:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:07:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:07:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:07:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:07:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:07:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:07:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:07:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:07:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:07:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:07:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:07:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:07:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:07:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:07:43 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:07:44 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:07:44 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:07:44 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:07:44 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:07:44 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:07:44 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:07:44 [info][yii\web\Session::open] Session started
2017-08-15 18:07:44 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:07:44 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:07:44 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:07:44 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7496', '2017-08-15 18:07:44')
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:07:44 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:07:44 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12853', '2017-08-15 18:07:44')
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:07:44 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:07:44 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6612', '2017-08-15 18:07:44')
2017-08-15 18:07:44 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7496', `time`='2017-08-15 18:07:44' WHERE `name`='longyanxiang'
2017-08-15 18:07:44 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12853', `time`='2017-08-15 18:07:44' WHERE `name`='yushi'
2017-08-15 18:07:44 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6612', `time`='2017-08-15 18:07:44' WHERE `name`='mila'
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:07:44 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:07:44 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:07:44 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:07:44 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:07:44 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:07:44 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:07:44 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:07:44 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:07:44 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:07:46 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:07:46 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:07:46 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:07:46 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:07:46 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:07:46 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:07:46 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:07:46 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:07:46 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:07:46 [info][yii\web\Session::open] Session started
2017-08-15 18:07:46 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:07:46 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:07:46 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:07:46 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:07:46 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:07:46 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:07:46 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:07:46 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:07:46 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:07:46 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:07:46 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7495', '2017-08-15 18:07:46')
2017-08-15 18:07:46 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:07:46 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:07:46 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:07:46 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:07:46 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:07:46 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:07:46 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12851', '2017-08-15 18:07:46')
2017-08-15 18:07:46 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:07:46 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:07:46 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:07:46 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:07:46 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:07:46 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:07:46 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6612', '2017-08-15 18:07:46')
2017-08-15 18:07:46 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7495', `time`='2017-08-15 18:07:46' WHERE `name`='longyanxiang'
2017-08-15 18:07:46 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12851', `time`='2017-08-15 18:07:46' WHERE `name`='yushi'
2017-08-15 18:07:46 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6612', `time`='2017-08-15 18:07:46' WHERE `name`='mila'
2017-08-15 18:07:46 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:07:46 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:07:46 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:07:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:07:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:07:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:07:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:07:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:07:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:07:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:07:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:07:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:07:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:07:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:07:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:07:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:07:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:07:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:07:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:07:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:07:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:07:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:07:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:07:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:07:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:07:46 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:07:46 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:07:46 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:07:46 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:07:46 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:07:46 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:07:46 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:07:46 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:07:46 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:07:46 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:07:48 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:07:48 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:07:48 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:07:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:07:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:07:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:07:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:07:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:07:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:07:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:07:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:07:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:07:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:07:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:07:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:07:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:07:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:07:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:07:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:07:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:07:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:07:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:07:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:07:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:07:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:07:48 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:07:49 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:07:49 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:07:49 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:07:49 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:07:49 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:07:49 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:07:49 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:07:49 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:07:49 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:07:49 [info][yii\web\Session::open] Session started
2017-08-15 18:07:49 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:07:49 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:07:49 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:07:49 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:07:49 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:07:49 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:07:49 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:07:49 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:07:49 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:07:49 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:07:49 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7494', '2017-08-15 18:07:49')
2017-08-15 18:07:49 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:07:49 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:07:49 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:07:49 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:07:49 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:07:49 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:07:49 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12847', '2017-08-15 18:07:49')
2017-08-15 18:07:49 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:07:49 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:07:49 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:07:49 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:07:49 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:07:49 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:07:49 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6611', '2017-08-15 18:07:49')
2017-08-15 18:07:49 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7494', `time`='2017-08-15 18:07:49' WHERE `name`='longyanxiang'
2017-08-15 18:07:49 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12847', `time`='2017-08-15 18:07:49' WHERE `name`='yushi'
2017-08-15 18:07:49 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6611', `time`='2017-08-15 18:07:49' WHERE `name`='mila'
2017-08-15 18:07:49 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:07:49 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:07:49 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:07:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:07:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:07:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:07:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:07:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:07:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:07:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:07:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:07:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:07:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:07:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:07:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:07:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:07:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:07:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:07:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:07:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:07:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:07:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:07:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:07:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:07:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:07:49 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:07:49 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:07:49 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:07:49 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:07:49 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:07:49 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:07:49 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:07:49 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:07:49 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:07:49 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:08:09 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:08:09 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:08:09 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:08:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:08:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:08:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:08:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:08:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:08:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:08:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:08:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:08:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:08:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:08:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:08:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:08:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:08:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:08:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:08:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:08:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:08:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:08:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:08:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:08:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:08:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:08:09 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:08:10 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:08:10 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:08:10 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:08:10 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:08:10 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:08:10 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:08:10 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:08:10 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:08:10 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:08:10 [info][yii\web\Session::open] Session started
2017-08-15 18:08:10 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:08:10 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:08:11 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:08:11 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:08:11 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7495', '2017-08-15 18:08:11')
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:08:11 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:08:11 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12844', '2017-08-15 18:08:11')
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:08:11 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:08:11 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6610', '2017-08-15 18:08:11')
2017-08-15 18:08:11 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7495', `time`='2017-08-15 18:08:11' WHERE `name`='longyanxiang'
2017-08-15 18:08:11 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12844', `time`='2017-08-15 18:08:11' WHERE `name`='yushi'
2017-08-15 18:08:11 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6610', `time`='2017-08-15 18:08:11' WHERE `name`='mila'
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:08:11 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:08:11 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:08:11 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:08:11 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:08:11 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:08:11 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:08:11 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:08:11 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:08:11 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:08:12 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:08:12 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:08:12 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:08:12 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:08:12 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:08:12 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:08:12 [info][yii\web\Session::open] Session started
2017-08-15 18:08:12 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:08:12 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:08:12 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:08:12 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7497', '2017-08-15 18:08:12')
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:08:12 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:08:12 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12845', '2017-08-15 18:08:12')
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:08:12 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:08:12 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6611', '2017-08-15 18:08:12')
2017-08-15 18:08:12 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7497', `time`='2017-08-15 18:08:12' WHERE `name`='longyanxiang'
2017-08-15 18:08:12 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12845', `time`='2017-08-15 18:08:12' WHERE `name`='yushi'
2017-08-15 18:08:12 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6611', `time`='2017-08-15 18:08:12' WHERE `name`='mila'
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:08:12 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:08:12 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:08:12 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:08:12 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:08:12 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:08:12 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:08:12 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:08:12 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:08:12 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:08:14 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:08:14 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:08:14 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:08:14 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:08:14 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:08:14 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:08:14 [info][yii\web\Session::open] Session started
2017-08-15 18:08:14 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:08:14 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:08:14 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:08:14 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7498', '2017-08-15 18:08:14')
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:08:14 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:08:14 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12845', '2017-08-15 18:08:14')
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:08:14 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:08:14 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6609', '2017-08-15 18:08:14')
2017-08-15 18:08:14 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7498', `time`='2017-08-15 18:08:14' WHERE `name`='longyanxiang'
2017-08-15 18:08:14 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12845', `time`='2017-08-15 18:08:14' WHERE `name`='yushi'
2017-08-15 18:08:14 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6609', `time`='2017-08-15 18:08:14' WHERE `name`='mila'
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:08:14 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:08:14 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:08:14 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:08:14 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:08:14 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:08:14 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:08:14 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:08:14 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:08:14 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:08:15 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:08:15 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:08:15 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:08:15 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:08:15 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:08:15 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:08:15 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:08:15 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:08:15 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:08:15 [info][yii\web\Session::open] Session started
2017-08-15 18:08:15 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:08:15 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:08:15 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:08:15 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:08:15 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:08:15 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:08:15 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:08:15 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:08:15 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:08:15 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:08:15 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7500', '2017-08-15 18:08:15')
2017-08-15 18:08:15 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:08:15 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:08:15 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:08:15 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:08:15 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:08:15 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:08:15 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12847', '2017-08-15 18:08:15')
2017-08-15 18:08:15 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:08:15 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:08:15 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:08:15 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:08:15 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:08:15 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:08:15 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6607', '2017-08-15 18:08:15')
2017-08-15 18:08:15 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7500', `time`='2017-08-15 18:08:15' WHERE `name`='longyanxiang'
2017-08-15 18:08:15 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12847', `time`='2017-08-15 18:08:15' WHERE `name`='yushi'
2017-08-15 18:08:15 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6607', `time`='2017-08-15 18:08:15' WHERE `name`='mila'
2017-08-15 18:08:15 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:08:15 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:08:15 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:08:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:08:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:08:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:08:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:08:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:08:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:08:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:08:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:08:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:08:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:08:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:08:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:08:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:08:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:08:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:08:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:08:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:08:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:08:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:08:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:08:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:08:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:08:15 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:08:16 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:08:16 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:08:16 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:08:16 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:08:16 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:08:16 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:08:16 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:08:16 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:08:16 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:08:16 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:08:16 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:08:16 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:08:16 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:08:16 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:08:16 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:08:16 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:08:16 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:08:16 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:08:16 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:08:16 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:08:16 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:08:16 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:08:16 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:08:16 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:08:16 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:08:16 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:08:16 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:08:16 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:08:16 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:08:16 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:08:16 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:08:16 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:08:16 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:08:16 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:08:16 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:08:17 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:08:17 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:08:17 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:08:17 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:08:17 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:08:17 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:08:17 [info][yii\web\Session::open] Session started
2017-08-15 18:08:17 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:08:17 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:08:17 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:08:17 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7502', '2017-08-15 18:08:17')
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:08:17 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:08:17 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12845', '2017-08-15 18:08:17')
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:08:17 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:08:17 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6606', '2017-08-15 18:08:17')
2017-08-15 18:08:17 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7502', `time`='2017-08-15 18:08:17' WHERE `name`='longyanxiang'
2017-08-15 18:08:17 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12845', `time`='2017-08-15 18:08:17' WHERE `name`='yushi'
2017-08-15 18:08:17 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6606', `time`='2017-08-15 18:08:17' WHERE `name`='mila'
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:08:17 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:08:17 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:08:17 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:08:17 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:08:17 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:08:17 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:08:17 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:08:17 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:08:17 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:08:18 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:08:18 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:08:18 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:08:18 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:08:18 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:08:18 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:08:18 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:08:18 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:08:18 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:08:18 [info][yii\web\Session::open] Session started
2017-08-15 18:08:18 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:08:18 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:08:18 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:08:18 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:08:18 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:08:18 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:08:18 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:08:18 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:08:18 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:08:18 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:08:18 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7500', '2017-08-15 18:08:18')
2017-08-15 18:08:18 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:08:18 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:08:18 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:08:18 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:08:18 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:08:18 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:08:18 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12842', '2017-08-15 18:08:18')
2017-08-15 18:08:18 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:08:18 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:08:18 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:08:18 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:08:18 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:08:18 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:08:18 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6606', '2017-08-15 18:08:18')
2017-08-15 18:08:18 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7500', `time`='2017-08-15 18:08:18' WHERE `name`='longyanxiang'
2017-08-15 18:08:18 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12842', `time`='2017-08-15 18:08:18' WHERE `name`='yushi'
2017-08-15 18:08:18 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6606', `time`='2017-08-15 18:08:18' WHERE `name`='mila'
2017-08-15 18:08:18 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:08:18 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:08:18 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:08:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:08:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:08:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:08:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:08:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:08:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:08:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:08:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:08:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:08:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:08:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:08:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:08:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:08:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:08:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:08:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:08:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:08:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:08:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:08:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:08:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:08:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:08:18 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:08:19 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:08:19 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:08:19 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:08:19 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:08:19 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:08:19 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:08:19 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:08:19 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:08:19 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:08:19 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:08:19 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:08:19 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:08:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:08:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:08:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:08:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:08:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:08:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:08:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:08:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:08:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:08:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:08:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:08:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:08:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:08:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:08:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:08:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:08:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:08:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:08:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:08:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:08:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:08:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:08:19 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:08:20 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:08:20 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:08:20 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:08:20 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:08:20 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:08:20 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:08:20 [info][yii\web\Session::open] Session started
2017-08-15 18:08:20 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:08:20 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:08:20 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:08:20 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7499', '2017-08-15 18:08:20')
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:08:20 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:08:20 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12844', '2017-08-15 18:08:20')
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:08:20 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:08:20 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6606', '2017-08-15 18:08:20')
2017-08-15 18:08:20 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7499', `time`='2017-08-15 18:08:20' WHERE `name`='longyanxiang'
2017-08-15 18:08:20 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12844', `time`='2017-08-15 18:08:20' WHERE `name`='yushi'
2017-08-15 18:08:20 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6606', `time`='2017-08-15 18:08:20' WHERE `name`='mila'
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:08:20 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:08:20 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:08:20 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:08:20 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:08:20 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:08:20 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:08:20 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:08:20 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:08:20 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:08:21 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:08:21 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:08:21 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:08:21 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:08:21 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:08:21 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:08:21 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:08:21 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:08:21 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:08:21 [info][yii\web\Session::open] Session started
2017-08-15 18:08:21 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:08:21 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:08:21 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:08:21 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:08:21 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:08:21 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:08:21 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:08:21 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:08:21 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:08:21 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:08:21 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7498', '2017-08-15 18:08:21')
2017-08-15 18:08:21 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:08:21 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:08:21 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:08:21 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:08:21 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:08:21 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:08:22 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12847', '2017-08-15 18:08:21')
2017-08-15 18:08:22 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:08:22 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:08:22 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:08:22 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:08:22 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:08:22 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:08:22 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6605', '2017-08-15 18:08:22')
2017-08-15 18:08:22 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7498', `time`='2017-08-15 18:08:21' WHERE `name`='longyanxiang'
2017-08-15 18:08:22 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12847', `time`='2017-08-15 18:08:21' WHERE `name`='yushi'
2017-08-15 18:08:22 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6605', `time`='2017-08-15 18:08:22' WHERE `name`='mila'
2017-08-15 18:08:22 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:08:22 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:08:22 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:08:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:08:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:08:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:08:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:08:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:08:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:08:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:08:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:08:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:08:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:08:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:08:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:08:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:08:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:08:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:08:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:08:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:08:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:08:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:08:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:08:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:08:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:08:22 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:08:22 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:08:22 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:08:22 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:08:22 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:08:22 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:08:22 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:08:22 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:08:22 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:08:22 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:08:22 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:08:22 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:08:22 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:08:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:08:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:08:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:08:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:08:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:08:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:08:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:08:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:08:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:08:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:08:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:08:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:08:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:08:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:08:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:08:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:08:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:08:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:08:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:08:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:08:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:08:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:08:22 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:08:23 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:08:23 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:08:23 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:08:23 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:08:23 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:08:23 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:08:23 [info][yii\web\Session::open] Session started
2017-08-15 18:08:23 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:08:23 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:08:23 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:08:23 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7496', '2017-08-15 18:08:23')
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:08:23 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:08:23 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12844', '2017-08-15 18:08:23')
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:08:23 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:08:23 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6603', '2017-08-15 18:08:23')
2017-08-15 18:08:23 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7496', `time`='2017-08-15 18:08:23' WHERE `name`='longyanxiang'
2017-08-15 18:08:23 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12844', `time`='2017-08-15 18:08:23' WHERE `name`='yushi'
2017-08-15 18:08:23 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6603', `time`='2017-08-15 18:08:23' WHERE `name`='mila'
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:08:23 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:08:23 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:08:23 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:08:23 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:08:23 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:08:23 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:08:23 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:08:23 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:08:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:08:24 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:08:24 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:08:24 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:08:25 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:08:25 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:08:25 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:08:25 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:08:25 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:08:25 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:08:25 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:08:25 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:08:25 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:08:25 [info][yii\web\Session::open] Session started
2017-08-15 18:08:25 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:08:25 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:08:25 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:08:25 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:08:25 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:08:25 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:08:25 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:08:25 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:08:25 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:08:25 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:08:25 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7499', '2017-08-15 18:08:25')
2017-08-15 18:08:25 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:08:25 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:08:25 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:08:25 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:08:25 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:08:25 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:08:25 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12841', '2017-08-15 18:08:25')
2017-08-15 18:08:25 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:08:25 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:08:25 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:08:25 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:08:25 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:08:25 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:08:25 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6603', '2017-08-15 18:08:25')
2017-08-15 18:08:25 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7499', `time`='2017-08-15 18:08:25' WHERE `name`='longyanxiang'
2017-08-15 18:08:25 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12841', `time`='2017-08-15 18:08:25' WHERE `name`='yushi'
2017-08-15 18:08:25 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6603', `time`='2017-08-15 18:08:25' WHERE `name`='mila'
2017-08-15 18:08:25 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:08:25 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:08:25 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:08:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:08:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:08:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:08:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:08:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:08:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:08:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:08:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:08:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:08:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:08:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:08:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:08:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:08:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:08:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:08:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:08:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:08:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:08:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:08:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:08:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:08:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:08:25 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:08:25 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:08:25 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:08:25 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:08:25 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:08:25 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:08:25 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:08:25 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:08:25 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:08:25 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:08:26 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:08:27 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:08:27 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:08:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:08:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:08:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:08:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:08:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:08:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:08:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:08:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:08:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:08:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:08:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:08:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:08:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:08:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:08:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:08:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:08:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:08:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:08:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:08:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:08:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:08:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:08:27 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:08:28 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:08:28 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:08:28 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:08:28 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:08:28 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:08:28 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:08:28 [info][yii\web\Session::open] Session started
2017-08-15 18:08:28 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:08:28 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:08:28 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:08:28 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7499', '2017-08-15 18:08:28')
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:08:28 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:08:28 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12841', '2017-08-15 18:08:28')
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:08:28 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:08:28 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6603', '2017-08-15 18:08:28')
2017-08-15 18:08:28 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7499', `time`='2017-08-15 18:08:28' WHERE `name`='longyanxiang'
2017-08-15 18:08:28 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12841', `time`='2017-08-15 18:08:28' WHERE `name`='yushi'
2017-08-15 18:08:28 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6603', `time`='2017-08-15 18:08:28' WHERE `name`='mila'
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:08:28 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:08:28 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:08:28 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:08:28 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:08:28 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:08:28 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:08:28 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:08:28 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:08:28 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:08:29 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:08:29 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:08:29 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:08:29 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:08:29 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:08:29 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:08:29 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:08:29 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:08:29 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:08:29 [info][yii\web\Session::open] Session started
2017-08-15 18:08:29 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:08:29 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:08:29 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:08:29 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:08:29 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:08:29 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:08:29 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:08:29 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:08:29 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:08:29 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:08:29 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7499', '2017-08-15 18:08:29')
2017-08-15 18:08:29 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:08:29 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:08:29 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:08:29 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:08:29 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:08:29 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:08:29 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12838', '2017-08-15 18:08:29')
2017-08-15 18:08:29 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:08:29 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:08:29 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:08:29 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:08:29 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:08:29 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:08:29 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6601', '2017-08-15 18:08:29')
2017-08-15 18:08:29 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7499', `time`='2017-08-15 18:08:29' WHERE `name`='longyanxiang'
2017-08-15 18:08:29 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12838', `time`='2017-08-15 18:08:29' WHERE `name`='yushi'
2017-08-15 18:08:29 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6601', `time`='2017-08-15 18:08:29' WHERE `name`='mila'
2017-08-15 18:08:29 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:08:29 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:08:29 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:08:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:08:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:08:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:08:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:08:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:08:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:08:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:08:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:08:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:08:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:08:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:08:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:08:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:08:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:08:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:08:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:08:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:08:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:08:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:08:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:08:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:08:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:08:30 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:08:30 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:08:30 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:08:30 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:08:30 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:08:30 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:08:30 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:08:30 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:08:30 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:08:30 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:08:30 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:08:30 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:08:30 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:08:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:08:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:08:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:08:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:08:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:08:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:08:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:08:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:08:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:08:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:08:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:08:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:08:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:08:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:08:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:08:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:08:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:08:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:08:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:08:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:08:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:08:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:08:30 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:08:31 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:08:31 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:08:31 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:08:31 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:08:31 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:08:31 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:08:31 [info][yii\web\Session::open] Session started
2017-08-15 18:08:31 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:08:31 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:08:31 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:08:31 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7496', '2017-08-15 18:08:31')
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:08:31 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:08:31 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12840', '2017-08-15 18:08:31')
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:08:31 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:08:31 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6599', '2017-08-15 18:08:31')
2017-08-15 18:08:31 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7496', `time`='2017-08-15 18:08:31' WHERE `name`='longyanxiang'
2017-08-15 18:08:31 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12840', `time`='2017-08-15 18:08:31' WHERE `name`='yushi'
2017-08-15 18:08:31 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6599', `time`='2017-08-15 18:08:31' WHERE `name`='mila'
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:08:31 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:08:31 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:08:31 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:08:31 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:08:31 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:08:31 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:08:31 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:08:31 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:08:31 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:08:32 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:08:32 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:08:32 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:08:32 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:08:32 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:08:32 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:08:32 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:08:32 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:08:32 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:08:32 [info][yii\web\Session::open] Session started
2017-08-15 18:08:32 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:08:32 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:08:32 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:08:32 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:08:32 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:08:32 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:08:32 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:08:32 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:08:32 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:08:32 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:08:32 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7495', '2017-08-15 18:08:32')
2017-08-15 18:08:33 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:08:33 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:08:33 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:08:33 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:08:33 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:08:33 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:08:33 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12838', '2017-08-15 18:08:33')
2017-08-15 18:08:33 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:08:33 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:08:33 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:08:33 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:08:33 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:08:33 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:08:33 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6599', '2017-08-15 18:08:33')
2017-08-15 18:08:33 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7495', `time`='2017-08-15 18:08:32' WHERE `name`='longyanxiang'
2017-08-15 18:08:33 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12838', `time`='2017-08-15 18:08:33' WHERE `name`='yushi'
2017-08-15 18:08:33 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6599', `time`='2017-08-15 18:08:33' WHERE `name`='mila'
2017-08-15 18:08:33 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:08:33 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:08:33 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:08:33 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:08:33 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:08:33 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:08:33 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:08:33 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:08:33 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:08:33 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:08:33 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:08:33 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:08:33 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:08:33 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:08:33 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:08:33 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:08:33 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:08:33 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:08:33 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:08:33 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:08:33 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:08:33 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:08:33 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:08:33 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:08:33 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:08:33 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:08:33 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:08:33 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:08:33 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:08:33 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:08:33 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:08:33 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:08:33 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:08:33 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:08:33 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:08:34 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:08:34 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:08:34 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:08:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:08:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:08:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:08:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:08:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:08:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:08:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:08:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:08:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:08:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:08:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:08:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:08:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:08:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:08:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:08:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:08:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:08:35 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:08:35 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:08:35 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:08:35 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:08:35 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:08:35 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:08:36 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:08:36 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:08:36 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:08:36 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:08:36 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:08:36 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:08:36 [info][yii\web\Session::open] Session started
2017-08-15 18:08:36 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:08:36 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:08:36 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:08:36 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7496', '2017-08-15 18:08:36')
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:08:36 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:08:36 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12837', '2017-08-15 18:08:36')
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:08:36 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:08:36 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6597', '2017-08-15 18:08:36')
2017-08-15 18:08:36 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7496', `time`='2017-08-15 18:08:36' WHERE `name`='longyanxiang'
2017-08-15 18:08:36 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12837', `time`='2017-08-15 18:08:36' WHERE `name`='yushi'
2017-08-15 18:08:36 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6597', `time`='2017-08-15 18:08:36' WHERE `name`='mila'
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:08:36 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:08:36 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:08:36 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:08:36 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:08:36 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:08:36 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:08:36 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:08:36 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:08:36 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:08:37 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:08:37 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:08:37 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:08:37 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:08:37 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:08:37 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:08:37 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:08:37 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:08:37 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:08:37 [info][yii\web\Session::open] Session started
2017-08-15 18:08:37 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:08:37 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:08:37 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:08:37 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:08:37 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:08:37 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:08:37 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:08:37 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:08:37 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:08:37 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:08:37 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7499', '2017-08-15 18:08:37')
2017-08-15 18:08:37 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:08:37 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:08:37 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:08:37 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:08:37 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:08:37 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:08:37 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12835', '2017-08-15 18:08:37')
2017-08-15 18:08:37 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:08:37 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:08:37 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:08:37 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:08:37 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:08:37 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:08:37 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6595', '2017-08-15 18:08:37')
2017-08-15 18:08:37 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7499', `time`='2017-08-15 18:08:37' WHERE `name`='longyanxiang'
2017-08-15 18:08:37 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12835', `time`='2017-08-15 18:08:37' WHERE `name`='yushi'
2017-08-15 18:08:37 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6595', `time`='2017-08-15 18:08:37' WHERE `name`='mila'
2017-08-15 18:08:37 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:08:37 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:08:37 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:08:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:08:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:08:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:08:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:08:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:08:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:08:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:08:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:08:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:08:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:08:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:08:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:08:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:08:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:08:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:08:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:08:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:08:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:08:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:08:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:08:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:08:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:08:37 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:08:38 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:08:38 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:08:38 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:08:38 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:08:38 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:08:38 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:08:38 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:08:38 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:08:38 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
