2017-08-15 18:01:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:01:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:01:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:01:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:01:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:01:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:01:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:01:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:01:10 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:01:12 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:01:12 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:01:12 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:01:12 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:01:12 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:01:12 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:01:12 [info][yii\web\Session::open] Session started
2017-08-15 18:01:12 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:01:12 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:01:12 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:01:12 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7499', '2017-08-15 18:01:12')
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:01:12 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:01:12 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12848', '2017-08-15 18:01:12')
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:01:12 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:01:12 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6616', '2017-08-15 18:01:12')
2017-08-15 18:01:12 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7483', `price`='7499', `time`='2017-08-15 18:01:12' WHERE `name`='longyanxiang'
2017-08-15 18:01:12 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12848', `time`='2017-08-15 18:01:12' WHERE `name`='yushi'
2017-08-15 18:01:12 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6599', `price`='6616', `time`='2017-08-15 18:01:12' WHERE `name`='mila'
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:01:12 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:01:12 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:01:12 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:01:12 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:01:12 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:01:12 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:01:12 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:01:12 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:01:12 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:01:13 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:01:13 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:01:13 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:01:13 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:01:13 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:01:13 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:01:13 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:01:13 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:01:13 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:01:13 [info][yii\web\Session::open] Session started
2017-08-15 18:01:13 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:01:13 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:01:13 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:01:13 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:01:13 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:01:13 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:01:13 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:01:13 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:01:13 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:01:13 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:01:13 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7496', '2017-08-15 18:01:13')
2017-08-15 18:01:13 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:01:13 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:01:13 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:01:13 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:01:13 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:01:13 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:01:13 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12848', '2017-08-15 18:01:13')
2017-08-15 18:01:13 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:01:13 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:01:13 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:01:13 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:01:13 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:01:13 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:01:13 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6617', '2017-08-15 18:01:13')
2017-08-15 18:01:13 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7483', `price`='7496', `time`='2017-08-15 18:01:13' WHERE `name`='longyanxiang'
2017-08-15 18:01:13 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12848', `time`='2017-08-15 18:01:13' WHERE `name`='yushi'
2017-08-15 18:01:13 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6599', `price`='6617', `time`='2017-08-15 18:01:13' WHERE `name`='mila'
2017-08-15 18:01:13 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:01:13 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:01:13 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:01:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:01:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:01:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:01:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:01:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:01:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:01:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:01:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:01:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:01:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:01:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:01:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:01:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:01:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:01:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:01:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:01:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:01:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:01:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:01:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:01:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:01:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:01:13 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:01:13 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:01:13 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:01:13 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:01:13 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:01:13 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:01:13 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:01:13 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:01:13 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:01:13 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:01:14 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:01:14 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:01:14 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:01:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:01:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:01:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:01:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:01:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:01:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:01:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:01:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:01:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:01:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:01:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:01:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:01:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:01:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:01:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:01:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:01:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:01:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:01:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:01:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:01:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:01:14 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:01:14 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:01:15 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:01:15 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:01:15 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:01:15 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:01:15 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:01:15 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:01:15 [info][yii\web\Session::open] Session started
2017-08-15 18:01:15 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:01:15 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:01:15 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:01:15 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7495', '2017-08-15 18:01:15')
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:01:15 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:01:15 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12850', '2017-08-15 18:01:15')
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:01:15 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:01:15 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6617', '2017-08-15 18:01:15')
2017-08-15 18:01:15 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7483', `price`='7495', `time`='2017-08-15 18:01:15' WHERE `name`='longyanxiang'
2017-08-15 18:01:15 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12850', `time`='2017-08-15 18:01:15' WHERE `name`='yushi'
2017-08-15 18:01:15 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6599', `price`='6617', `time`='2017-08-15 18:01:15' WHERE `name`='mila'
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:01:15 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:01:15 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:01:15 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:01:15 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:01:15 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:01:15 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:01:15 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:01:15 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:01:15 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:01:16 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:01:16 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:01:16 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:01:16 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:01:16 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:01:16 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:01:16 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:01:16 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:01:16 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:01:16 [info][yii\web\Session::open] Session started
2017-08-15 18:01:16 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:01:16 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:01:16 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:01:16 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:01:16 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:01:16 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:01:16 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:01:16 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:01:16 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:01:16 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:01:16 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7493', '2017-08-15 18:01:16')
2017-08-15 18:01:16 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:01:16 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:01:16 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:01:16 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:01:16 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:01:16 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:01:16 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12848', '2017-08-15 18:01:16')
2017-08-15 18:01:16 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:01:16 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:01:16 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:01:16 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:01:16 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:01:16 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:01:16 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6616', '2017-08-15 18:01:16')
2017-08-15 18:01:16 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7483', `price`='7493', `time`='2017-08-15 18:01:16' WHERE `name`='longyanxiang'
2017-08-15 18:01:16 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12848', `time`='2017-08-15 18:01:16' WHERE `name`='yushi'
2017-08-15 18:01:16 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6599', `price`='6616', `time`='2017-08-15 18:01:16' WHERE `name`='mila'
2017-08-15 18:01:16 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:01:16 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:01:16 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:01:16 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:01:16 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:01:16 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:01:16 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:01:16 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:01:16 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:01:16 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:01:16 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:01:16 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:01:16 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:01:16 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:01:16 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:01:16 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:01:16 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:01:16 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:01:16 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:01:16 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:01:16 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:01:16 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:01:16 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:01:16 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:01:16 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:01:16 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:01:17 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:01:17 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:01:17 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:01:17 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:01:17 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:01:17 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:01:17 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:01:17 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:01:17 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:01:18 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:01:18 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:01:18 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:01:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:01:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:01:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:01:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:01:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:01:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:01:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:01:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:01:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:01:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:01:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:01:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:01:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:01:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:01:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:01:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:01:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:01:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:01:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:01:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:01:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:01:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:01:18 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:01:19 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:01:19 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:01:19 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:01:19 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:01:19 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:01:19 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:01:19 [info][yii\web\Session::open] Session started
2017-08-15 18:01:19 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:01:19 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:01:19 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:01:19 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7494', '2017-08-15 18:01:19')
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:01:19 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:01:19 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12845', '2017-08-15 18:01:19')
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:01:19 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:01:19 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6615', '2017-08-15 18:01:19')
2017-08-15 18:01:19 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7483', `price`='7494', `time`='2017-08-15 18:01:19' WHERE `name`='longyanxiang'
2017-08-15 18:01:19 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12845', `time`='2017-08-15 18:01:19' WHERE `name`='yushi'
2017-08-15 18:01:19 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6599', `price`='6615', `time`='2017-08-15 18:01:19' WHERE `name`='mila'
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:01:19 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:01:19 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:01:19 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:01:19 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:01:19 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:01:19 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:01:19 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:01:19 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:01:19 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:01:20 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:01:20 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:01:20 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:01:20 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:01:21 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:01:21 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:01:21 [info][yii\web\Session::open] Session started
2017-08-15 18:01:21 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:01:21 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:01:21 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:01:21 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7492', '2017-08-15 18:01:21')
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:01:21 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:01:21 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12848', '2017-08-15 18:01:21')
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:01:21 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:01:21 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6613', '2017-08-15 18:01:21')
2017-08-15 18:01:21 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7483', `price`='7492', `time`='2017-08-15 18:01:21' WHERE `name`='longyanxiang'
2017-08-15 18:01:21 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12848', `time`='2017-08-15 18:01:21' WHERE `name`='yushi'
2017-08-15 18:01:21 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6599', `price`='6613', `time`='2017-08-15 18:01:21' WHERE `name`='mila'
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:01:21 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:01:21 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:01:21 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:01:21 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:01:21 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:01:21 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:01:21 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:01:21 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:01:21 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:01:22 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:01:22 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:01:22 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:01:22 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:01:22 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:01:22 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:01:22 [info][yii\web\Session::open] Session started
2017-08-15 18:01:22 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:01:22 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:01:22 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:01:22 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7495', '2017-08-15 18:01:22')
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:01:22 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:01:22 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12849', '2017-08-15 18:01:22')
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:01:22 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:01:22 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6611', '2017-08-15 18:01:22')
2017-08-15 18:01:22 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7483', `price`='7495', `time`='2017-08-15 18:01:22' WHERE `name`='longyanxiang'
2017-08-15 18:01:22 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12849', `time`='2017-08-15 18:01:22' WHERE `name`='yushi'
2017-08-15 18:01:22 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6599', `price`='6611', `time`='2017-08-15 18:01:22' WHERE `name`='mila'
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:01:22 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:01:22 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:01:22 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:01:22 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:01:22 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:01:22 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:01:22 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:01:22 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:01:22 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:01:24 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:01:24 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:01:24 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:01:24 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:01:24 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:01:24 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:01:24 [info][yii\web\Session::open] Session started
2017-08-15 18:01:24 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:01:24 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:01:24 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:01:24 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7497', '2017-08-15 18:01:24')
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:01:24 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:01:24 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12851', '2017-08-15 18:01:24')
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:01:24 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:01:24 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6609', '2017-08-15 18:01:24')
2017-08-15 18:01:24 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7483', `price`='7497', `time`='2017-08-15 18:01:24' WHERE `name`='longyanxiang'
2017-08-15 18:01:24 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12851', `time`='2017-08-15 18:01:24' WHERE `name`='yushi'
2017-08-15 18:01:24 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6599', `price`='6609', `time`='2017-08-15 18:01:24' WHERE `name`='mila'
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:01:24 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:01:24 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:01:24 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:01:24 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:01:24 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:01:24 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:01:24 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:01:24 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:01:24 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:01:25 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:01:25 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:01:25 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:01:25 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:01:25 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:01:25 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:01:25 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:01:25 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:01:25 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:01:25 [info][yii\web\Session::open] Session started
2017-08-15 18:01:25 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:01:25 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:01:25 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:01:25 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:01:25 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:01:25 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:01:25 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:01:25 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:01:25 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:01:25 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:01:25 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7499', '2017-08-15 18:01:25')
2017-08-15 18:01:25 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:01:25 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:01:25 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:01:25 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:01:25 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:01:25 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:01:25 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12853', '2017-08-15 18:01:25')
2017-08-15 18:01:25 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:01:25 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:01:25 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:01:25 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:01:25 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:01:25 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:01:25 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6608', '2017-08-15 18:01:25')
2017-08-15 18:01:25 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7483', `price`='7499', `time`='2017-08-15 18:01:25' WHERE `name`='longyanxiang'
2017-08-15 18:01:25 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12853', `time`='2017-08-15 18:01:25' WHERE `name`='yushi'
2017-08-15 18:01:25 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6599', `price`='6608', `time`='2017-08-15 18:01:25' WHERE `name`='mila'
2017-08-15 18:01:25 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:01:25 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:01:25 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:01:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:01:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:01:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:01:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:01:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:01:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:01:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:01:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:01:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:01:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:01:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:01:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:01:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:01:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:01:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:01:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:01:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:01:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:01:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:01:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:01:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:01:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:01:25 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:01:26 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:01:26 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:01:26 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:01:26 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:01:26 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:01:26 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:01:26 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:01:26 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:01:26 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:01:46 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:01:46 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:01:46 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:01:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:01:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:01:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:01:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:01:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:01:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:01:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:01:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:01:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:01:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:01:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:01:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:01:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:01:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:01:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:01:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:01:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:01:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:01:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:01:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:01:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:01:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:01:46 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:01:47 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:01:47 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:01:47 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:01:47 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:01:47 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:01:47 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:01:47 [info][yii\web\Session::open] Session started
2017-08-15 18:01:47 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:01:47 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:01:47 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:01:47 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7497', '2017-08-15 18:01:47')
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:01:47 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:01:47 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12857', '2017-08-15 18:01:47')
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:01:47 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:01:47 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6609', '2017-08-15 18:01:47')
2017-08-15 18:01:47 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7483', `price`='7497', `time`='2017-08-15 18:01:47' WHERE `name`='longyanxiang'
2017-08-15 18:01:47 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12857', `time`='2017-08-15 18:01:47' WHERE `name`='yushi'
2017-08-15 18:01:47 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6599', `price`='6609', `time`='2017-08-15 18:01:47' WHERE `name`='mila'
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:01:47 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:01:47 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:01:47 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:01:47 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:01:47 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:01:47 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:01:47 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:01:47 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:01:47 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:01:48 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:01:48 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:01:48 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:01:48 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:01:48 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:01:48 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:01:48 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:01:48 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:01:48 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:01:48 [info][yii\web\Session::open] Session started
2017-08-15 18:01:48 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:01:48 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:01:48 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:01:48 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:01:48 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:01:48 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:01:48 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:01:48 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:01:48 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:01:48 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:01:48 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7496', '2017-08-15 18:01:48')
2017-08-15 18:01:49 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:01:49 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:01:49 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:01:49 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:01:49 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:01:49 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:01:49 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12854', '2017-08-15 18:01:49')
2017-08-15 18:01:49 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:01:49 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:01:49 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:01:49 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:01:49 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:01:49 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:01:49 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6607', '2017-08-15 18:01:49')
2017-08-15 18:01:49 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7483', `price`='7496', `time`='2017-08-15 18:01:48' WHERE `name`='longyanxiang'
2017-08-15 18:01:49 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12854', `time`='2017-08-15 18:01:49' WHERE `name`='yushi'
2017-08-15 18:01:49 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6599', `price`='6607', `time`='2017-08-15 18:01:49' WHERE `name`='mila'
2017-08-15 18:01:49 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:01:49 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:01:49 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:01:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:01:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:01:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:01:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:01:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:01:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:01:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:01:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:01:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:01:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:01:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:01:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:01:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:01:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:01:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:01:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:01:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:01:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:01:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:01:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:01:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:01:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:01:49 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:01:49 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:01:49 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:01:49 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:01:49 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:01:49 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:01:49 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:01:49 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:01:49 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:01:49 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:01:49 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:01:49 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:01:49 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:01:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:01:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:01:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:01:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:01:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:01:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:01:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:01:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:01:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:01:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:01:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:01:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:01:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:01:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:01:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:01:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:01:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:01:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:01:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:01:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:01:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:01:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:01:49 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:01:50 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:01:50 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:01:50 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:01:50 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:01:50 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:01:50 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:01:50 [info][yii\web\Session::open] Session started
2017-08-15 18:01:50 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:01:50 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:01:50 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:01:50 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7497', '2017-08-15 18:01:50')
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:01:50 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:01:50 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12856', '2017-08-15 18:01:50')
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:01:50 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:01:50 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6607', '2017-08-15 18:01:50')
2017-08-15 18:01:50 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7483', `price`='7497', `time`='2017-08-15 18:01:50' WHERE `name`='longyanxiang'
2017-08-15 18:01:50 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12856', `time`='2017-08-15 18:01:50' WHERE `name`='yushi'
2017-08-15 18:01:50 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6599', `price`='6607', `time`='2017-08-15 18:01:50' WHERE `name`='mila'
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:01:50 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:01:50 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:01:50 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:01:50 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:01:50 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:01:50 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:01:50 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:01:50 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:01:50 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:01:52 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:01:52 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:01:52 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:01:52 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:01:52 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:01:52 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:01:52 [info][yii\web\Session::open] Session started
2017-08-15 18:01:52 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:01:52 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:01:52 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:01:52 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7497', '2017-08-15 18:01:52')
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:01:52 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:01:52 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12854', '2017-08-15 18:01:52')
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:01:52 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:01:52 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6605', '2017-08-15 18:01:52')
2017-08-15 18:01:52 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7483', `price`='7497', `time`='2017-08-15 18:01:52' WHERE `name`='longyanxiang'
2017-08-15 18:01:52 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12854', `time`='2017-08-15 18:01:52' WHERE `name`='yushi'
2017-08-15 18:01:52 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6599', `price`='6605', `time`='2017-08-15 18:01:52' WHERE `name`='mila'
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:01:52 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:01:52 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:01:52 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:01:52 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:01:52 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:01:52 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:01:52 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:01:52 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:01:52 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:01:53 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:01:53 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:01:53 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:01:53 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:01:53 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:01:53 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:01:53 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:01:53 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:01:53 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:01:53 [info][yii\web\Session::open] Session started
2017-08-15 18:01:53 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:01:53 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:01:53 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:01:53 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:01:53 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:01:53 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:01:53 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:01:53 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:01:53 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:01:53 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:01:53 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7499', '2017-08-15 18:01:53')
2017-08-15 18:01:53 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:01:53 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:01:53 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:01:53 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:01:53 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:01:53 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:01:53 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12857', '2017-08-15 18:01:53')
2017-08-15 18:01:53 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:01:53 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:01:53 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:01:53 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:01:53 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:01:53 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:01:53 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6604', '2017-08-15 18:01:53')
2017-08-15 18:01:53 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7483', `price`='7499', `time`='2017-08-15 18:01:53' WHERE `name`='longyanxiang'
2017-08-15 18:01:53 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12857', `time`='2017-08-15 18:01:53' WHERE `name`='yushi'
2017-08-15 18:01:53 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6599', `price`='6604', `time`='2017-08-15 18:01:53' WHERE `name`='mila'
2017-08-15 18:01:53 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:01:53 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:01:53 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:01:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:01:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:01:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:01:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:01:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:01:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:01:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:01:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:01:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:01:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:01:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:01:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:01:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:01:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:01:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:01:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:01:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:01:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:01:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:01:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:01:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:01:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:01:53 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:01:53 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:01:53 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:01:53 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:01:53 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:01:53 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:01:53 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:01:53 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:01:53 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:01:53 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:01:53 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:01:53 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:01:53 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:01:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:01:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:01:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:01:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:01:54 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:01:54 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:01:54 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:01:54 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:01:54 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:01:54 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:01:54 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:01:54 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:01:54 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:01:54 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:01:54 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:01:54 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:01:54 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:01:54 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:01:54 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:01:54 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:01:54 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:01:54 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:01:54 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:01:55 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:01:55 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:01:55 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:01:55 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:01:55 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:01:55 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:01:55 [info][yii\web\Session::open] Session started
2017-08-15 18:01:55 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:01:55 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:01:55 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:01:55 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7497', '2017-08-15 18:01:55')
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:01:55 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:01:55 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12856', '2017-08-15 18:01:55')
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:01:55 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:01:55 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6602', '2017-08-15 18:01:55')
2017-08-15 18:01:55 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7483', `price`='7497', `time`='2017-08-15 18:01:55' WHERE `name`='longyanxiang'
2017-08-15 18:01:55 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12856', `time`='2017-08-15 18:01:55' WHERE `name`='yushi'
2017-08-15 18:01:55 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6599', `price`='6602', `time`='2017-08-15 18:01:55' WHERE `name`='mila'
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:01:55 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:01:55 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:01:55 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:01:55 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:01:55 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:01:55 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:01:55 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:01:55 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:01:55 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:01:56 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:01:56 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:01:56 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:01:56 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:01:56 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:01:56 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:01:56 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:01:56 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:01:56 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:01:56 [info][yii\web\Session::open] Session started
2017-08-15 18:01:56 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:01:56 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:01:56 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:01:56 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:01:56 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:01:56 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:01:56 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:01:56 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:01:56 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:01:56 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:01:56 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7494', '2017-08-15 18:01:56')
2017-08-15 18:01:56 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:01:56 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:01:56 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:01:56 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:01:56 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:01:56 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:01:56 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12859', '2017-08-15 18:01:56')
2017-08-15 18:01:56 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:01:56 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:01:56 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:01:56 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:01:56 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:01:56 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:01:56 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6601', '2017-08-15 18:01:56')
2017-08-15 18:01:56 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7483', `price`='7494', `time`='2017-08-15 18:01:56' WHERE `name`='longyanxiang'
2017-08-15 18:01:56 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12859', `time`='2017-08-15 18:01:56' WHERE `name`='yushi'
2017-08-15 18:01:56 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6599', `price`='6601', `time`='2017-08-15 18:01:56' WHERE `name`='mila'
2017-08-15 18:01:56 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:01:56 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:01:56 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:01:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:01:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:01:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:01:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:01:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:01:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:01:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:01:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:01:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:01:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:01:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:01:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:01:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:01:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:01:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:01:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:01:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:01:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:01:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:01:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:01:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:01:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:01:56 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:01:57 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:01:57 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:01:57 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:01:57 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:01:57 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:01:57 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:01:57 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:01:57 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:01:57 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:01:57 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:01:57 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:01:57 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:01:57 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:01:57 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:01:57 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:01:57 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:01:57 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:01:57 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:01:57 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:01:57 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:01:57 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:01:57 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:01:57 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:01:57 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:01:57 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:01:57 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:01:57 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:01:57 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:01:57 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:01:57 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:01:57 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:01:57 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:01:57 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:01:57 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:01:57 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:01:58 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:01:58 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:01:58 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:01:58 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:01:58 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:01:58 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:01:58 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:01:58 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:01:58 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:01:58 [info][yii\web\Session::open] Session started
2017-08-15 18:01:58 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:01:58 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:01:58 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:01:58 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:01:58 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:01:58 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:01:58 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:01:58 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:01:58 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:01:58 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:01:58 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7497', '2017-08-15 18:01:58')
2017-08-15 18:01:58 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:01:58 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:01:58 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:01:58 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:01:58 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:01:58 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:01:58 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12862', '2017-08-15 18:01:58')
2017-08-15 18:01:58 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:01:58 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:01:58 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:01:58 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:01:58 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:01:58 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:01:58 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6603', '2017-08-15 18:01:58')
2017-08-15 18:01:58 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7483', `price`='7497', `time`='2017-08-15 18:01:58' WHERE `name`='longyanxiang'
2017-08-15 18:01:58 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12862', `time`='2017-08-15 18:01:58' WHERE `name`='yushi'
2017-08-15 18:01:58 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6599', `price`='6603', `time`='2017-08-15 18:01:58' WHERE `name`='mila'
2017-08-15 18:01:58 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:01:58 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:01:58 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:01:58 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:01:58 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:01:58 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:01:58 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:01:58 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:01:58 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:01:58 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:01:58 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:01:58 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:01:58 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:01:58 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:01:58 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:01:58 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:01:58 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:01:58 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:01:58 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:01:58 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:01:58 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:01:58 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:01:58 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:01:58 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:01:58 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:01:58 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:01:58 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:01:58 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:01:58 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:01:58 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:01:58 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:01:58 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:01:58 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:01:58 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:01:58 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:02:18 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:02:18 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:02:18 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:02:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:02:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:02:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:02:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:02:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:02:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:02:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:02:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:02:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:02:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:02:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:02:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:02:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:02:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:02:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:02:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:02:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:02:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:02:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:02:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:02:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:02:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:02:18 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:02:19 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:02:19 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:02:19 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:02:19 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:02:19 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:02:19 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:02:19 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:02:19 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:02:19 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:02:19 [info][yii\web\Session::open] Session started
2017-08-15 18:02:19 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:02:19 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:02:19 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:02:19 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:02:19 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:02:19 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:02:19 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:02:19 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:02:19 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:02:19 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:02:19 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7495', '2017-08-15 18:02:19')
2017-08-15 18:02:19 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:02:19 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:02:19 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:02:19 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:02:19 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:02:19 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:02:19 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12861', '2017-08-15 18:02:19')
2017-08-15 18:02:19 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:02:19 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:02:19 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:02:19 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:02:19 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:02:19 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:02:19 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6602', '2017-08-15 18:02:19')
2017-08-15 18:02:20 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7483', `price`='7495', `time`='2017-08-15 18:02:19' WHERE `name`='longyanxiang'
2017-08-15 18:02:20 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12861', `time`='2017-08-15 18:02:19' WHERE `name`='yushi'
2017-08-15 18:02:20 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6599', `price`='6602', `time`='2017-08-15 18:02:19' WHERE `name`='mila'
2017-08-15 18:02:20 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:02:20 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:02:20 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:02:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:02:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:02:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:02:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:02:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:02:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:02:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:02:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:02:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:02:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:02:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:02:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:02:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:02:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:02:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:02:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:02:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:02:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:02:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:02:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:02:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:02:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:02:20 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:02:20 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:02:20 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:02:20 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:02:20 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:02:20 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:02:20 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:02:20 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:02:20 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:02:20 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:02:20 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:02:20 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:02:20 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:02:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:02:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:02:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:02:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:02:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:02:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:02:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:02:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:02:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:02:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:02:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:02:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:02:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:02:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:02:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:02:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:02:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:02:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:02:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:02:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:02:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:02:20 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:02:20 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:02:21 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:02:21 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:02:21 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:02:21 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:02:21 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:02:21 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:02:21 [info][yii\web\Session::open] Session started
2017-08-15 18:02:21 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:02:21 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:02:21 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:02:21 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7493', '2017-08-15 18:02:21')
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:02:21 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:02:21 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12864', '2017-08-15 18:02:21')
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:02:21 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:02:21 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6600', '2017-08-15 18:02:21')
2017-08-15 18:02:21 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7483', `price`='7493', `time`='2017-08-15 18:02:21' WHERE `name`='longyanxiang'
2017-08-15 18:02:21 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12864', `time`='2017-08-15 18:02:21' WHERE `name`='yushi'
2017-08-15 18:02:21 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6599', `price`='6600', `time`='2017-08-15 18:02:21' WHERE `name`='mila'
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:02:21 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:02:21 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:02:21 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:02:21 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:02:21 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:02:21 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:02:21 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:02:21 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:02:21 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:02:23 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:02:23 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:02:23 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:02:23 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:02:23 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:02:23 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:02:23 [info][yii\web\Session::open] Session started
2017-08-15 18:02:23 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:02:23 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:02:23 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:02:23 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7490', '2017-08-15 18:02:23')
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:02:23 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:02:23 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12864', '2017-08-15 18:02:23')
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:02:23 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:02:23 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6598', '2017-08-15 18:02:23')
2017-08-15 18:02:23 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7483', `price`='7490', `time`='2017-08-15 18:02:23' WHERE `name`='longyanxiang'
2017-08-15 18:02:23 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12864', `time`='2017-08-15 18:02:23' WHERE `name`='yushi'
2017-08-15 18:02:23 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6599', `price`='6598', `time`='2017-08-15 18:02:23' WHERE `name`='mila'
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:02:23 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:02:23 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:02:23 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:02:23 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:02:23 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:02:23 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:02:23 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:02:23 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:02:23 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:02:24 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:02:24 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:02:24 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:02:24 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:02:24 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:02:24 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:02:24 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:02:24 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:02:24 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:02:24 [info][yii\web\Session::open] Session started
2017-08-15 18:02:24 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:02:24 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:02:24 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:02:24 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:02:24 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:02:24 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:02:24 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:02:24 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:02:24 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:02:24 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:02:24 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7491', '2017-08-15 18:02:24')
2017-08-15 18:02:24 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:02:24 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:02:24 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:02:24 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:02:24 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:02:24 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:02:24 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12860', '2017-08-15 18:02:24')
2017-08-15 18:02:24 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:02:24 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:02:24 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:02:24 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:02:24 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:02:24 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:02:24 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6597', '2017-08-15 18:02:24')
2017-08-15 18:02:24 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7483', `price`='7491', `time`='2017-08-15 18:02:24' WHERE `name`='longyanxiang'
2017-08-15 18:02:24 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12860', `time`='2017-08-15 18:02:24' WHERE `name`='yushi'
2017-08-15 18:02:24 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6598', `price`='6597', `time`='2017-08-15 18:02:24' WHERE `name`='mila'
2017-08-15 18:02:24 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:02:25 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:02:25 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:02:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:02:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:02:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:02:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:02:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:02:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:02:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:02:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:02:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:02:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:02:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:02:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:02:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:02:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:02:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:02:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:02:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:02:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:02:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:02:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:02:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:02:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:02:25 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:02:25 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:02:25 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:02:25 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:02:25 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:02:25 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:02:25 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:02:25 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:02:25 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:02:25 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:02:26 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:02:26 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:02:26 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:02:26 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:02:26 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:02:26 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:02:26 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:02:26 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:02:26 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:02:26 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:02:26 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:02:26 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:02:26 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:02:26 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:02:26 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:02:26 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:02:26 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:02:26 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:02:26 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:02:26 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:02:26 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:02:26 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:02:26 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:02:26 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:02:26 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:02:26 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:02:27 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:02:27 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:02:27 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:02:27 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:02:27 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:02:27 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:02:27 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:02:27 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:02:27 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:02:27 [info][yii\web\Session::open] Session started
2017-08-15 18:02:27 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:02:27 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:02:27 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:02:27 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:02:27 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:02:27 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:02:27 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:02:27 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:02:27 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:02:27 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:02:27 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7491', '2017-08-15 18:02:27')
2017-08-15 18:02:27 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:02:27 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:02:27 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:02:27 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:02:27 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:02:27 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:02:27 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12857', '2017-08-15 18:02:27')
2017-08-15 18:02:27 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:02:27 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:02:27 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:02:27 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:02:27 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:02:27 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:02:27 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6597', '2017-08-15 18:02:27')
2017-08-15 18:02:27 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7483', `price`='7491', `time`='2017-08-15 18:02:27' WHERE `name`='longyanxiang'
2017-08-15 18:02:27 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12857', `time`='2017-08-15 18:02:27' WHERE `name`='yushi'
2017-08-15 18:02:27 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6597', `price`='6597', `time`='2017-08-15 18:02:27' WHERE `name`='mila'
2017-08-15 18:02:27 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:02:27 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:02:27 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:02:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:02:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:02:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:02:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:02:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:02:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:02:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:02:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:02:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:02:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:02:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:02:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:02:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:02:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:02:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:02:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:02:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:02:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:02:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:02:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:02:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:02:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:02:27 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:02:28 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:02:28 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:02:28 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:02:28 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:02:28 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:02:28 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:02:28 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:02:28 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:02:28 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:02:28 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:02:28 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:02:28 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:02:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:02:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:02:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:02:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:02:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:02:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:02:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:02:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:02:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:02:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:02:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:02:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:02:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:02:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:02:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:02:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:02:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:02:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:02:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:02:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:02:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:02:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:02:28 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:02:29 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:02:29 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:02:29 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:02:29 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:02:29 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:02:29 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:02:29 [info][yii\web\Session::open] Session started
2017-08-15 18:02:29 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:02:29 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:02:29 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:02:29 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7490', '2017-08-15 18:02:29')
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:02:29 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:02:29 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12855', '2017-08-15 18:02:29')
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:02:29 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:02:29 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6597', '2017-08-15 18:02:29')
2017-08-15 18:02:29 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7483', `price`='7490', `time`='2017-08-15 18:02:29' WHERE `name`='longyanxiang'
2017-08-15 18:02:29 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12855', `time`='2017-08-15 18:02:29' WHERE `name`='yushi'
2017-08-15 18:02:29 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6597', `price`='6597', `time`='2017-08-15 18:02:29' WHERE `name`='mila'
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:02:29 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:02:29 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:02:29 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:02:29 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:02:29 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:02:29 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:02:29 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:02:29 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:02:29 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:02:30 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:02:30 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:02:30 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:02:30 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:02:30 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:02:30 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:02:30 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:02:30 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:02:30 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:02:30 [info][yii\web\Session::open] Session started
2017-08-15 18:02:30 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:02:30 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:02:30 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:02:30 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:02:30 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:02:30 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:02:30 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:02:30 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:02:30 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:02:30 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:02:30 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7490', '2017-08-15 18:02:30')
2017-08-15 18:02:30 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:02:30 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:02:30 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:02:30 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:02:30 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:02:30 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:02:30 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12859', '2017-08-15 18:02:30')
2017-08-15 18:02:30 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:02:30 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:02:30 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:02:30 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:02:30 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:02:30 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:02:30 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6595', '2017-08-15 18:02:30')
2017-08-15 18:02:30 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7483', `price`='7490', `time`='2017-08-15 18:02:30' WHERE `name`='longyanxiang'
2017-08-15 18:02:30 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12859', `time`='2017-08-15 18:02:30' WHERE `name`='yushi'
2017-08-15 18:02:30 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6597', `price`='6595', `time`='2017-08-15 18:02:30' WHERE `name`='mila'
2017-08-15 18:02:30 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:02:30 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:02:30 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:02:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:02:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:02:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:02:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:02:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:02:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:02:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:02:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:02:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:02:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:02:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:02:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:02:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:02:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:02:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:02:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:02:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:02:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:02:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:02:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:02:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:02:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:02:31 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:02:31 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:02:31 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:02:31 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:02:31 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:02:31 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:02:31 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:02:31 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:02:31 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:02:31 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:02:31 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:02:31 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:02:31 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:02:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:02:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:02:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:02:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:02:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:02:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:02:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:02:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:02:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:02:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:02:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:02:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:02:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:02:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:02:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:02:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:02:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:02:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:02:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:02:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:02:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:02:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:02:31 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:02:33 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:02:33 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:02:33 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:02:33 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:02:33 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:02:33 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:02:33 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:02:33 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:02:33 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:02:33 [info][yii\web\Session::open] Session started
2017-08-15 18:02:33 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:02:33 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:02:33 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:02:33 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:02:33 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:02:33 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:02:33 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:02:33 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:02:33 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:02:33 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:02:33 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7491', '2017-08-15 18:02:33')
2017-08-15 18:02:33 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:02:33 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:02:33 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:02:33 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:02:33 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:02:33 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:02:33 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12857', '2017-08-15 18:02:33')
2017-08-15 18:02:33 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:02:33 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:02:33 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:02:33 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:02:33 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:02:33 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:02:33 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6594', '2017-08-15 18:02:33')
2017-08-15 18:02:33 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7483', `price`='7491', `time`='2017-08-15 18:02:33' WHERE `name`='longyanxiang'
2017-08-15 18:02:33 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12857', `time`='2017-08-15 18:02:33' WHERE `name`='yushi'
2017-08-15 18:02:33 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6595', `price`='6594', `time`='2017-08-15 18:02:33' WHERE `name`='mila'
2017-08-15 18:02:33 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:02:33 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:02:33 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:02:33 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:02:33 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:02:33 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:02:33 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:02:33 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:02:33 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:02:33 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:02:33 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:02:33 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:02:33 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:02:33 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:02:33 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:02:33 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:02:33 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:02:33 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:02:33 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:02:33 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:02:33 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:02:33 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:02:33 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:02:33 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:02:33 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:02:33 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:02:33 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:02:33 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:02:33 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:02:33 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:02:33 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:02:33 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:02:33 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:02:33 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:02:33 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:02:34 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:02:34 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:02:34 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:02:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:02:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:02:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:02:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:02:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:02:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:02:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:02:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:02:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:02:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:02:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:02:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:02:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:02:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:02:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:02:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:02:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:02:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:02:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:02:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:02:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:02:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:02:34 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:02:35 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:02:35 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:02:35 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:02:35 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:02:35 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:02:35 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:02:35 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:02:35 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:02:35 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:02:35 [info][yii\web\Session::open] Session started
2017-08-15 18:02:35 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:02:35 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:02:35 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:02:35 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:02:35 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:02:35 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:02:35 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:02:35 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:02:36 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:02:36 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:02:36 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7493', '2017-08-15 18:02:36')
2017-08-15 18:02:36 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:02:36 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:02:36 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:02:36 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:02:36 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:02:36 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:02:36 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12854', '2017-08-15 18:02:36')
2017-08-15 18:02:36 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:02:36 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:02:36 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:02:36 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:02:36 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:02:36 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:02:36 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6592', '2017-08-15 18:02:36')
2017-08-15 18:02:36 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7483', `price`='7493', `time`='2017-08-15 18:02:36' WHERE `name`='longyanxiang'
2017-08-15 18:02:36 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12854', `time`='2017-08-15 18:02:36' WHERE `name`='yushi'
2017-08-15 18:02:36 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6594', `price`='6592', `time`='2017-08-15 18:02:36' WHERE `name`='mila'
2017-08-15 18:02:36 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:02:36 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:02:36 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:02:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:02:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:02:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:02:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:02:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:02:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:02:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:02:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:02:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:02:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:02:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:02:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:02:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:02:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:02:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:02:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:02:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:02:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:02:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:02:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:02:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:02:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:02:36 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:02:36 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:02:36 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:02:36 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:02:36 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:02:36 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:02:36 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:02:36 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:02:36 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:02:36 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:02:36 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:02:36 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:02:36 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:02:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:02:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:02:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:02:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:02:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:02:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:02:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:02:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:02:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:02:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:02:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:02:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:02:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:02:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:02:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:02:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:02:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:02:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:02:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:02:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:02:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:02:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:02:36 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:02:37 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:02:37 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:02:37 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:02:37 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:02:37 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:02:37 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:02:37 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:02:37 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:02:37 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:02:37 [info][yii\web\Session::open] Session started
2017-08-15 18:02:37 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:02:37 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:02:37 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:02:37 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:02:37 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:02:37 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:02:37 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:02:37 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:02:37 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:02:37 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:02:37 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7490', '2017-08-15 18:02:37')
2017-08-15 18:02:37 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:02:37 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:02:37 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:02:37 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:02:37 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:02:37 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:02:37 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12850', '2017-08-15 18:02:37')
2017-08-15 18:02:37 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:02:37 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:02:37 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:02:37 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:02:37 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:02:37 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:02:37 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6593', '2017-08-15 18:02:37')
2017-08-15 18:02:37 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7483', `price`='7490', `time`='2017-08-15 18:02:37' WHERE `name`='longyanxiang'
2017-08-15 18:02:37 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12850', `time`='2017-08-15 18:02:37' WHERE `name`='yushi'
2017-08-15 18:02:37 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6593', `time`='2017-08-15 18:02:37' WHERE `name`='mila'
2017-08-15 18:02:37 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:02:37 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:02:37 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:02:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:02:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:02:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:02:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:02:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:02:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:02:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:02:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:02:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:02:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:02:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:02:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:02:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:02:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:02:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:02:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:02:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:02:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:02:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:02:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:02:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:02:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:02:37 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:02:37 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:02:37 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:02:37 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:02:37 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:02:37 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:02:37 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:02:37 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:02:37 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:02:37 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:02:38 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:02:38 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:02:38 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:02:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:02:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:02:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:02:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:02:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:02:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:02:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:02:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:02:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:02:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:02:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:02:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:02:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:02:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:02:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:02:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:02:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:02:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:02:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:02:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:02:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:02:38 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:02:38 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:02:40 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:02:40 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:02:40 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:02:40 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:02:40 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:02:40 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:02:40 [info][yii\web\Session::open] Session started
2017-08-15 18:02:40 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:02:40 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:02:40 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:02:40 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7489', '2017-08-15 18:02:40')
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:02:40 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:02:40 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12853', '2017-08-15 18:02:40')
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:02:40 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:02:40 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6594', '2017-08-15 18:02:40')
2017-08-15 18:02:40 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7483', `price`='7489', `time`='2017-08-15 18:02:40' WHERE `name`='longyanxiang'
2017-08-15 18:02:40 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12853', `time`='2017-08-15 18:02:40' WHERE `name`='yushi'
2017-08-15 18:02:40 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6594', `time`='2017-08-15 18:02:40' WHERE `name`='mila'
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:02:40 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:02:40 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:02:40 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:02:40 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:02:40 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:02:40 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:02:40 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:02:40 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:02:40 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:02:41 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:02:41 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:02:41 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:02:41 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:02:41 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:02:41 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:02:41 [info][yii\web\Session::open] Session started
2017-08-15 18:02:41 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:02:41 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:02:41 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:02:41 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7486', '2017-08-15 18:02:41')
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:02:41 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:02:41 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12855', '2017-08-15 18:02:41')
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:02:41 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:02:41 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6592', '2017-08-15 18:02:41')
2017-08-15 18:02:41 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7483', `price`='7486', `time`='2017-08-15 18:02:41' WHERE `name`='longyanxiang'
2017-08-15 18:02:41 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12855', `time`='2017-08-15 18:02:41' WHERE `name`='yushi'
2017-08-15 18:02:41 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6592', `time`='2017-08-15 18:02:41' WHERE `name`='mila'
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:02:41 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:02:41 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:02:41 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:02:41 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:02:41 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:02:41 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:02:41 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:02:41 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:02:41 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:02:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:02:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:02:42 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:02:42 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:02:43 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:02:43 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:02:43 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:02:43 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:02:43 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:02:43 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:02:43 [info][yii\web\Session::open] Session started
2017-08-15 18:02:43 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:02:43 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:02:43 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:02:43 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7489', '2017-08-15 18:02:43')
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:02:43 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:02:43 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12853', '2017-08-15 18:02:43')
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:02:43 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:02:43 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6594', '2017-08-15 18:02:43')
2017-08-15 18:02:43 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7483', `price`='7489', `time`='2017-08-15 18:02:43' WHERE `name`='longyanxiang'
2017-08-15 18:02:43 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12853', `time`='2017-08-15 18:02:43' WHERE `name`='yushi'
2017-08-15 18:02:43 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6594', `time`='2017-08-15 18:02:43' WHERE `name`='mila'
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:02:43 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:02:43 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:02:43 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:02:43 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:02:43 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:02:43 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:02:43 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:02:43 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:02:43 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:02:44 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:02:44 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:02:44 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:02:44 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:02:44 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:02:44 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:02:44 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:02:44 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:02:44 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:02:44 [info][yii\web\Session::open] Session started
2017-08-15 18:02:44 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:02:44 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:02:44 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:02:44 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:02:44 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:02:44 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:02:44 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:02:44 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:02:44 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:02:44 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:02:44 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7488', '2017-08-15 18:02:44')
2017-08-15 18:02:44 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:02:44 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:02:44 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:02:44 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:02:44 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:02:44 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:02:44 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12856', '2017-08-15 18:02:44')
2017-08-15 18:02:44 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:02:44 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:02:44 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:02:44 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:02:44 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:02:44 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:02:44 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6593', '2017-08-15 18:02:44')
2017-08-15 18:02:44 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7483', `price`='7488', `time`='2017-08-15 18:02:44' WHERE `name`='longyanxiang'
2017-08-15 18:02:44 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12856', `time`='2017-08-15 18:02:44' WHERE `name`='yushi'
2017-08-15 18:02:44 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6593', `time`='2017-08-15 18:02:44' WHERE `name`='mila'
2017-08-15 18:02:44 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:02:44 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:02:44 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:02:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:02:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:02:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:02:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:02:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:02:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:02:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:02:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:02:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:02:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:02:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:02:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:02:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:02:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:02:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:02:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:02:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:02:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:02:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:02:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:02:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:02:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:02:44 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:02:44 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:02:44 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:02:44 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:02:44 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:02:44 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:02:44 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:02:44 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:02:44 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:02:44 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:02:44 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:02:44 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:02:44 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:02:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:02:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:02:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:02:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:02:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:02:44 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:02:45 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:02:45 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:02:45 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:02:45 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:02:45 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:02:45 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:02:45 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:02:45 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:02:45 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:02:45 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:02:45 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:02:45 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:02:45 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:02:45 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:02:45 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:02:45 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:02:45 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:02:46 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:02:46 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:02:46 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:02:46 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:02:46 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:02:46 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:02:46 [info][yii\web\Session::open] Session started
2017-08-15 18:02:46 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:02:46 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:02:46 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:02:46 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7485', '2017-08-15 18:02:46')
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:02:46 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:02:46 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12858', '2017-08-15 18:02:46')
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:02:46 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:02:46 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6595', '2017-08-15 18:02:46')
2017-08-15 18:02:46 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7483', `price`='7485', `time`='2017-08-15 18:02:46' WHERE `name`='longyanxiang'
2017-08-15 18:02:46 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12858', `time`='2017-08-15 18:02:46' WHERE `name`='yushi'
2017-08-15 18:02:46 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6595', `time`='2017-08-15 18:02:46' WHERE `name`='mila'
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:02:46 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:02:46 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:02:46 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:02:46 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:02:46 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:02:46 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:02:46 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:02:46 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:02:46 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:02:47 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:02:47 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:02:47 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:02:47 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:02:47 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:02:47 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:02:47 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:02:47 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:02:47 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:02:47 [info][yii\web\Session::open] Session started
2017-08-15 18:02:47 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:02:47 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:02:47 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:02:47 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:02:47 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:02:47 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:02:47 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:02:47 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:02:47 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:02:47 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:02:47 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7488', '2017-08-15 18:02:47')
2017-08-15 18:02:47 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:02:47 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:02:47 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:02:47 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:02:47 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:02:47 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:02:47 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12857', '2017-08-15 18:02:47')
2017-08-15 18:02:47 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:02:47 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:02:47 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:02:47 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:02:47 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:02:47 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:02:47 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6593', '2017-08-15 18:02:47')
2017-08-15 18:02:47 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7483', `price`='7488', `time`='2017-08-15 18:02:47' WHERE `name`='longyanxiang'
2017-08-15 18:02:47 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12857', `time`='2017-08-15 18:02:47' WHERE `name`='yushi'
2017-08-15 18:02:47 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6593', `time`='2017-08-15 18:02:47' WHERE `name`='mila'
2017-08-15 18:02:47 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:02:47 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:02:47 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:02:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:02:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:02:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:02:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:02:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:02:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:02:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:02:47 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:02:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:02:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:02:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:02:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:02:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:02:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:02:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:02:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:02:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:02:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:02:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:02:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:02:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:02:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:02:48 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:02:48 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:02:48 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:02:48 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:02:48 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:02:48 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:02:48 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:02:48 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:02:48 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:02:48 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:02:48 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:02:48 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:02:48 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:02:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:02:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:02:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:02:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:02:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:02:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:02:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:02:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:02:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:02:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:02:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:02:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:02:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:02:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:02:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:02:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:02:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:02:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:02:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:02:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:02:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:02:48 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:02:48 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:02:49 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:02:49 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:02:49 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:02:49 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:02:49 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:02:49 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:02:49 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:02:49 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:02:49 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:02:49 [info][yii\web\Session::open] Session started
2017-08-15 18:02:49 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:02:49 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:02:49 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:02:49 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:02:49 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:02:49 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:02:49 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:02:49 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:02:49 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:02:49 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:02:49 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7487', '2017-08-15 18:02:49')
2017-08-15 18:02:49 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:02:49 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:02:49 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:02:49 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:02:49 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:02:49 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:02:49 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12853', '2017-08-15 18:02:49')
2017-08-15 18:02:49 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:02:49 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:02:49 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:02:49 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:02:49 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:02:49 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:02:49 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6594', '2017-08-15 18:02:49')
2017-08-15 18:02:49 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7483', `price`='7487', `time`='2017-08-15 18:02:49' WHERE `name`='longyanxiang'
2017-08-15 18:02:49 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12853', `time`='2017-08-15 18:02:49' WHERE `name`='yushi'
2017-08-15 18:02:49 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6594', `time`='2017-08-15 18:02:49' WHERE `name`='mila'
2017-08-15 18:02:49 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:02:49 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:02:49 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:02:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:02:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:02:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:02:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:02:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:02:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:02:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:02:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:02:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:02:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:02:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:02:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:02:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:02:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:02:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:02:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:02:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:02:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:02:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:02:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:02:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:02:49 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:02:49 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:02:49 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:02:49 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:02:49 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:02:49 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:02:49 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:02:49 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:02:49 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:02:50 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:02:50 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:02:50 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:02:50 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:02:50 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:02:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:02:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:02:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:02:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:02:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:02:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:02:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:02:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:02:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:02:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:02:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:02:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:02:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:02:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:02:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:02:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:02:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:02:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:02:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:02:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:02:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:02:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:02:50 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:02:51 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:02:51 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:02:51 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:02:51 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:02:51 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:02:51 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:02:51 [info][yii\web\Session::open] Session started
2017-08-15 18:02:51 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:02:51 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:02:51 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:02:51 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7490', '2017-08-15 18:02:51')
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:02:51 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:02:51 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12852', '2017-08-15 18:02:51')
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:02:51 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:02:51 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6594', '2017-08-15 18:02:51')
2017-08-15 18:02:51 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7483', `price`='7490', `time`='2017-08-15 18:02:51' WHERE `name`='longyanxiang'
2017-08-15 18:02:51 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12852', `time`='2017-08-15 18:02:51' WHERE `name`='yushi'
2017-08-15 18:02:51 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6594', `time`='2017-08-15 18:02:51' WHERE `name`='mila'
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:02:51 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:02:51 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:02:51 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:02:51 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:02:51 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:02:51 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:02:51 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:02:51 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:02:51 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:02:52 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:02:52 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:02:52 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:02:52 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:02:52 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:02:52 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:02:52 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:02:52 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:02:52 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:02:52 [info][yii\web\Session::open] Session started
2017-08-15 18:02:52 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:02:52 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:02:52 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:02:52 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:02:52 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:02:52 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:02:52 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:02:52 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:02:52 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:02:52 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:02:52 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7493', '2017-08-15 18:02:52')
2017-08-15 18:02:52 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:02:52 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:02:52 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:02:52 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:02:52 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:02:52 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:02:52 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12852', '2017-08-15 18:02:52')
2017-08-15 18:02:52 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:02:52 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:02:52 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:02:52 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:02:52 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:02:52 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:02:52 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6594', '2017-08-15 18:02:52')
2017-08-15 18:02:52 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7483', `price`='7493', `time`='2017-08-15 18:02:52' WHERE `name`='longyanxiang'
2017-08-15 18:02:52 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12852', `time`='2017-08-15 18:02:52' WHERE `name`='yushi'
2017-08-15 18:02:52 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6594', `time`='2017-08-15 18:02:52' WHERE `name`='mila'
2017-08-15 18:02:52 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:02:52 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:02:52 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:02:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:02:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:02:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:02:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:02:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:02:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:02:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:02:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:02:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:02:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:02:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:02:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:02:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:02:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:02:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:02:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:02:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:02:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:02:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:02:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:02:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:02:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:02:52 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:02:53 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:02:53 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:02:53 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:02:53 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:02:53 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:02:53 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:02:53 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:02:53 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:02:53 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:02:53 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:02:53 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:02:53 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:02:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:02:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:02:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:02:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:02:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:02:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:02:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:02:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:02:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:02:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:02:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:02:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:02:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:02:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:02:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:02:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:02:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:02:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:02:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:02:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:02:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:02:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:02:53 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:02:54 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:02:54 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:02:54 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:02:54 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:02:54 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:02:54 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:02:54 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:02:54 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:02:54 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:02:54 [info][yii\web\Session::open] Session started
2017-08-15 18:02:54 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:02:54 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:02:54 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:02:54 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:02:54 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:02:54 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:02:54 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:02:54 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:02:54 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:02:54 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:02:54 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7494', '2017-08-15 18:02:54')
2017-08-15 18:02:54 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:02:54 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:02:54 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:02:54 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:02:54 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:02:54 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:02:54 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12848', '2017-08-15 18:02:54')
2017-08-15 18:02:54 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:02:54 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:02:54 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:02:54 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:02:54 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:02:54 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:02:54 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6596', '2017-08-15 18:02:54')
2017-08-15 18:02:54 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7483', `price`='7494', `time`='2017-08-15 18:02:54' WHERE `name`='longyanxiang'
2017-08-15 18:02:54 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12848', `time`='2017-08-15 18:02:54' WHERE `name`='yushi'
2017-08-15 18:02:54 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6596', `time`='2017-08-15 18:02:54' WHERE `name`='mila'
2017-08-15 18:02:54 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:02:54 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:02:54 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:02:54 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:02:54 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:02:54 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:02:54 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:02:54 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:02:54 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:02:54 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:02:54 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:02:54 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:02:54 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:02:54 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:02:54 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:02:54 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:02:54 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:02:54 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:02:54 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:02:54 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:02:54 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:02:54 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:02:54 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:02:54 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:02:54 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:02:54 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:02:54 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:02:54 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:02:54 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:02:54 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:02:54 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:02:54 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:02:54 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:02:54 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:02:54 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:02:57 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:02:57 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:02:57 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:02:57 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:02:57 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:02:57 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:02:57 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:02:57 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:02:57 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:02:57 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:02:57 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:02:57 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:02:57 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:02:57 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:02:57 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:02:57 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:02:57 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:02:57 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:02:57 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:02:57 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:02:57 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:02:57 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:02:57 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:02:57 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:02:57 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:02:57 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:02:58 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:02:58 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:02:58 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:02:58 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:02:58 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:02:58 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:02:58 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:02:58 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:02:58 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:02:58 [info][yii\web\Session::open] Session started
2017-08-15 18:02:58 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:02:58 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:02:58 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:02:58 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:02:58 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:02:58 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:02:58 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:02:58 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:02:58 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:02:58 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:02:58 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7492', '2017-08-15 18:02:58')
2017-08-15 18:02:59 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:02:59 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:02:59 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:02:59 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:02:59 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:02:59 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:02:59 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12847', '2017-08-15 18:02:59')
2017-08-15 18:02:59 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:02:59 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:02:59 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:02:59 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:02:59 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:02:59 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:02:59 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6597', '2017-08-15 18:02:59')
2017-08-15 18:02:59 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7483', `price`='7492', `time`='2017-08-15 18:02:58' WHERE `name`='longyanxiang'
2017-08-15 18:02:59 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12847', `time`='2017-08-15 18:02:59' WHERE `name`='yushi'
2017-08-15 18:02:59 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6597', `time`='2017-08-15 18:02:59' WHERE `name`='mila'
2017-08-15 18:02:59 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:02:59 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:02:59 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:02:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:02:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:02:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:02:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:02:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:02:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:02:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:02:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:02:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:02:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:02:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:02:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:02:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:02:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:02:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:02:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:02:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:02:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:02:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:02:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:02:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:02:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:02:59 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:02:59 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:02:59 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:02:59 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:02:59 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:02:59 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:02:59 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:02:59 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:02:59 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:02:59 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:02:59 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:02:59 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:02:59 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:02:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:02:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:02:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:02:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:02:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:02:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:02:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:02:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:02:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:02:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:02:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:02:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:02:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:02:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:02:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:02:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:02:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:02:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:02:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:02:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:02:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:02:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:02:59 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:03:00 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:03:00 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:03:00 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:03:00 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:03:00 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:03:00 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:03:00 [info][yii\web\Session::open] Session started
2017-08-15 18:03:00 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:03:00 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:03:00 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:03:00 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7494', '2017-08-15 18:03:00')
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:03:00 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:03:00 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12843', '2017-08-15 18:03:00')
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:03:00 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:03:00 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6599', '2017-08-15 18:03:00')
2017-08-15 18:03:00 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7483', `price`='7494', `time`='2017-08-15 18:03:00' WHERE `name`='longyanxiang'
2017-08-15 18:03:00 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12843', `time`='2017-08-15 18:03:00' WHERE `name`='yushi'
2017-08-15 18:03:00 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6599', `time`='2017-08-15 18:03:00' WHERE `name`='mila'
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:03:00 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:03:00 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:03:00 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:03:00 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:03:00 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:03:00 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:03:00 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:03:00 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:03:00 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:03:01 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:03:01 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:03:01 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:03:02 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:03:02 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:03:02 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:03:02 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:03:02 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:03:02 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:03:02 [info][yii\web\Session::open] Session started
2017-08-15 18:03:02 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:03:02 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:03:02 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:03:02 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7491', '2017-08-15 18:03:02')
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:03:02 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:03:02 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12843', '2017-08-15 18:03:02')
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:03:02 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:03:02 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6597', '2017-08-15 18:03:02')
2017-08-15 18:03:02 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7483', `price`='7491', `time`='2017-08-15 18:03:02' WHERE `name`='longyanxiang'
2017-08-15 18:03:02 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12843', `time`='2017-08-15 18:03:02' WHERE `name`='yushi'
2017-08-15 18:03:02 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6597', `time`='2017-08-15 18:03:02' WHERE `name`='mila'
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:03:02 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:03:02 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:03:02 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:03:02 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:03:02 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:03:02 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:03:02 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:03:02 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:03:02 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:03:03 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:03:03 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:03:03 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:03:03 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:03:03 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:03:03 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:03:03 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:03:03 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:03:03 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:03:03 [info][yii\web\Session::open] Session started
2017-08-15 18:03:03 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:03:03 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:03:03 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:03:03 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:03:03 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:03:03 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:03:03 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:03:03 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:03:03 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:03:03 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:03:03 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7491', '2017-08-15 18:03:03')
2017-08-15 18:03:03 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:03:03 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:03:03 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:03:03 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:03:03 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:03:03 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:03:03 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12841', '2017-08-15 18:03:03')
2017-08-15 18:03:03 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:03:03 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:03:03 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:03:03 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:03:03 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:03:03 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:03:03 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6597', '2017-08-15 18:03:03')
2017-08-15 18:03:03 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7483', `price`='7491', `time`='2017-08-15 18:03:03' WHERE `name`='longyanxiang'
2017-08-15 18:03:03 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12841', `time`='2017-08-15 18:03:03' WHERE `name`='yushi'
2017-08-15 18:03:03 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6597', `time`='2017-08-15 18:03:03' WHERE `name`='mila'
2017-08-15 18:03:03 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:03:03 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:03:03 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:03:03 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:03:03 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:03:03 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:03:03 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:03:03 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:03:03 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:03:03 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:03:03 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:03:03 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:03:03 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:03:03 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:03:03 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:03:03 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:03:03 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:03:03 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:03:03 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:03:03 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:03:03 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:03:03 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:03:03 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:03:03 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:03:03 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:03:03 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:03:04 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:03:04 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:03:04 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:03:04 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:03:04 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:03:04 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:03:04 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:03:04 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:03:04 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:03:24 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:03:24 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:03:24 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:03:24 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:03:24 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:03:24 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:03:24 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:03:24 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:03:24 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:03:24 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:03:24 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:03:24 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:03:24 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:03:24 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:03:24 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:03:24 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:03:24 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:03:24 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:03:24 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:03:24 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:03:24 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:03:24 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:03:24 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:03:24 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:03:24 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:03:24 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:03:25 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:03:25 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:03:25 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:03:25 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:03:25 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:03:25 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:03:25 [info][yii\web\Session::open] Session started
2017-08-15 18:03:25 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:03:25 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:03:25 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:03:25 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7491', '2017-08-15 18:03:25')
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:03:25 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:03:25 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12843', '2017-08-15 18:03:25')
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:03:25 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:03:25 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6599', '2017-08-15 18:03:25')
2017-08-15 18:03:25 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7483', `price`='7491', `time`='2017-08-15 18:03:25' WHERE `name`='longyanxiang'
2017-08-15 18:03:25 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12843', `time`='2017-08-15 18:03:25' WHERE `name`='yushi'
2017-08-15 18:03:25 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6599', `time`='2017-08-15 18:03:25' WHERE `name`='mila'
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:03:25 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:03:25 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:03:25 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:03:25 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:03:25 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:03:25 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:03:25 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:03:25 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:03:25 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:03:26 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:03:26 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:03:26 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:03:26 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:03:26 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:03:26 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:03:26 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:03:26 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:03:26 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:03:26 [info][yii\web\Session::open] Session started
2017-08-15 18:03:26 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:03:26 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:03:26 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:03:27 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:03:27 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:03:27 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:03:27 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:03:27 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:03:27 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:03:27 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:03:27 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7494', '2017-08-15 18:03:27')
2017-08-15 18:03:27 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:03:27 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:03:27 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:03:27 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:03:27 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:03:27 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:03:27 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12839', '2017-08-15 18:03:27')
2017-08-15 18:03:27 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:03:27 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:03:27 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:03:27 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:03:27 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:03:27 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:03:27 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6601', '2017-08-15 18:03:27')
2017-08-15 18:03:27 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7483', `price`='7494', `time`='2017-08-15 18:03:27' WHERE `name`='longyanxiang'
2017-08-15 18:03:27 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12839', `time`='2017-08-15 18:03:27' WHERE `name`='yushi'
2017-08-15 18:03:27 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6601', `time`='2017-08-15 18:03:27' WHERE `name`='mila'
2017-08-15 18:03:27 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:03:27 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:03:27 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:03:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:03:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:03:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:03:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:03:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:03:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:03:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:03:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:03:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:03:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:03:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:03:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:03:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:03:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:03:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:03:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:03:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:03:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:03:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:03:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:03:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:03:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:03:27 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:03:27 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:03:27 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:03:27 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:03:27 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:03:27 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:03:27 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:03:27 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:03:27 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:03:27 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:03:27 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:03:27 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:03:27 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:03:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:03:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:03:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:03:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:03:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:03:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:03:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:03:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:03:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:03:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:03:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:03:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:03:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:03:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:03:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:03:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:03:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:03:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:03:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:03:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:03:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:03:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:03:27 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:03:28 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:03:28 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:03:28 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:03:28 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:03:28 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:03:28 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:03:28 [info][yii\web\Session::open] Session started
2017-08-15 18:03:28 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:03:28 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:03:28 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:03:28 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7492', '2017-08-15 18:03:28')
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:03:28 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:03:28 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12836', '2017-08-15 18:03:28')
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:03:28 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:03:28 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6599', '2017-08-15 18:03:28')
2017-08-15 18:03:28 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7483', `price`='7492', `time`='2017-08-15 18:03:28' WHERE `name`='longyanxiang'
2017-08-15 18:03:28 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12836', `time`='2017-08-15 18:03:28' WHERE `name`='yushi'
2017-08-15 18:03:28 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6599', `time`='2017-08-15 18:03:28' WHERE `name`='mila'
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:03:28 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:03:28 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:03:28 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:03:28 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:03:28 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:03:28 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:03:28 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:03:28 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:03:28 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:03:30 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:03:30 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:03:30 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:03:30 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:03:30 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:03:30 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:03:30 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:03:30 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:03:30 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:03:30 [info][yii\web\Session::open] Session started
2017-08-15 18:03:30 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:03:30 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:03:30 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:03:30 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:03:30 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:03:30 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:03:30 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:03:30 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:03:30 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:03:30 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:03:30 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7491', '2017-08-15 18:03:30')
2017-08-15 18:03:30 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:03:30 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:03:30 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:03:30 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:03:30 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:03:30 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:03:30 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12838', '2017-08-15 18:03:30')
2017-08-15 18:03:30 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:03:30 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:03:30 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:03:30 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:03:30 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:03:30 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:03:30 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6601', '2017-08-15 18:03:30')
2017-08-15 18:03:30 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7483', `price`='7491', `time`='2017-08-15 18:03:30' WHERE `name`='longyanxiang'
2017-08-15 18:03:30 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12838', `time`='2017-08-15 18:03:30' WHERE `name`='yushi'
2017-08-15 18:03:30 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6601', `time`='2017-08-15 18:03:30' WHERE `name`='mila'
2017-08-15 18:03:30 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:03:30 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:03:30 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:03:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:03:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:03:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:03:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:03:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:03:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:03:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:03:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:03:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:03:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:03:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:03:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:03:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:03:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:03:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:03:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:03:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:03:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:03:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:03:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:03:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:03:30 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:03:30 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:03:30 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:03:30 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:03:30 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:03:30 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:03:30 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:03:30 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:03:30 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:03:30 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:03:30 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:03:50 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:03:50 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:03:50 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:03:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:03:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:03:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:03:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:03:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:03:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:03:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:03:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:03:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:03:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:03:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:03:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:03:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:03:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:03:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:03:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:03:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:03:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:03:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:03:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:03:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:03:50 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:03:50 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:03:51 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:03:51 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:03:51 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:03:51 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:03:51 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:03:51 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:03:51 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:03:51 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:03:51 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:03:51 [info][yii\web\Session::open] Session started
2017-08-15 18:03:51 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:03:51 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:03:51 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:03:51 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:03:51 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:03:51 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:03:51 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:03:51 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:03:51 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:03:51 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:03:51 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7493', '2017-08-15 18:03:51')
2017-08-15 18:03:51 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:03:51 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:03:51 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:03:51 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:03:51 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:03:51 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:03:51 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12839', '2017-08-15 18:03:51')
2017-08-15 18:03:51 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:03:51 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:03:51 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:03:51 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:03:51 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:03:51 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:03:51 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6602', '2017-08-15 18:03:51')
2017-08-15 18:03:51 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7483', `price`='7493', `time`='2017-08-15 18:03:51' WHERE `name`='longyanxiang'
2017-08-15 18:03:51 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12839', `time`='2017-08-15 18:03:51' WHERE `name`='yushi'
2017-08-15 18:03:51 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6602', `time`='2017-08-15 18:03:51' WHERE `name`='mila'
2017-08-15 18:03:51 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:03:51 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:03:51 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:03:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:03:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:03:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:03:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:03:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:03:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:03:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:03:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:03:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:03:51 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:03:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:03:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:03:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:03:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:03:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:03:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:03:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:03:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:03:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:03:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:03:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:03:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:03:52 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:03:52 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:03:52 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:03:52 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:03:52 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:03:52 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:03:52 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:03:52 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:03:52 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:03:52 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:03:52 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:03:52 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:03:52 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:03:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:03:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:03:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:03:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:03:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:03:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:03:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:03:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:03:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:03:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:03:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:03:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:03:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:03:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:03:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:03:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:03:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:03:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:03:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:03:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:03:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:03:52 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:03:52 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:03:53 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:03:53 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:03:53 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:03:53 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:03:53 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:03:53 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:03:53 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:03:53 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:03:53 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:03:53 [info][yii\web\Session::open] Session started
2017-08-15 18:03:53 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:03:53 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:03:53 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:03:53 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:03:53 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:03:53 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:03:53 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:03:53 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:03:53 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:03:53 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:03:53 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7495', '2017-08-15 18:03:53')
2017-08-15 18:03:53 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:03:53 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:03:53 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:03:53 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:03:53 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:03:53 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:03:53 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12843', '2017-08-15 18:03:53')
2017-08-15 18:03:53 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:03:53 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:03:53 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:03:53 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:03:53 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:03:53 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:03:53 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6602', '2017-08-15 18:03:53')
2017-08-15 18:03:53 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7483', `price`='7495', `time`='2017-08-15 18:03:53' WHERE `name`='longyanxiang'
2017-08-15 18:03:53 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12843', `time`='2017-08-15 18:03:53' WHERE `name`='yushi'
2017-08-15 18:03:53 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6602', `time`='2017-08-15 18:03:53' WHERE `name`='mila'
2017-08-15 18:03:53 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:03:53 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:03:53 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:03:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:03:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:03:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:03:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:03:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:03:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:03:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:03:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:03:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:03:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:03:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:03:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:03:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:03:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:03:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:03:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:03:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:03:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:03:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:03:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:03:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:03:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:03:53 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:03:53 [info][yii\db\Command::query] SELECT * FROM `order` `order` WHERE (`id`='2') AND (`order_state`=1)
2017-08-15 18:03:53 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `order`
2017-08-15 18:03:53 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'order' AND kcu.table_name = 'order'
2017-08-15 18:03:53 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`=20
2017-08-15 18:03:53 [info][yii\db\Command::execute] UPDATE `order` SET `sell_price`='7495', `sell_hand`=1, `sell_deposit`='0', `profit`='-8.50', `is_console`=1, `order_state`=2, `updated_at`='2017-08-15 18:03:53', `updated_by`=0 WHERE `id`=2
2017-08-15 18:03:53 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `user`
2017-08-15 18:03:53 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'user' AND kcu.table_name = 'user'
2017-08-15 18:03:53 [info][yii\db\Command::query] SELECT * FROM `user` `user` WHERE `id`=100001
2017-08-15 18:03:53 [info][yii\db\Command::query] SELECT * FROM `user` `user` WHERE `id`=100001
2017-08-15 18:03:53 [info][yii\db\Command::query] SELECT * FROM `admin_user` `adminUser` WHERE `id`=4
2017-08-15 18:03:53 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `admin_user`
2017-08-15 18:03:53 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'admin_user' AND kcu.table_name = 'admin_user'
2017-08-15 18:03:53 [info][yii\db\Command::query] SELECT * FROM `retail` `retail` WHERE `admin_id`=4
2017-08-15 18:03:53 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `retail`
2017-08-15 18:03:53 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'retail' AND kcu.table_name = 'retail'
2017-08-15 18:03:53 [info][yii\db\Command::execute] UPDATE `retail` SET `total_fee`='1.05' WHERE `admin_id`=4
2017-08-15 18:03:53 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `user_rebate`
2017-08-15 18:03:53 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'user_rebate' AND kcu.table_name = 'user_rebate'
2017-08-15 18:03:53 [info][yii\db\Command::execute] INSERT INTO `user_rebate` (`user_id`, `order_id`, `pid`, `amount`, `point`, `created_at`, `updated_at`) VALUES (100001, 2, 4, '1.05', 70, '2017-08-15 18:03:53', '2017-08-15 18:03:53')
2017-08-15 18:03:53 [info][yii\db\Command::query] SELECT * FROM `admin_user` `adminUser` WHERE `id`=10
2017-08-15 18:03:53 [info][yii\db\Command::query] SELECT * FROM `admin_leader` `leader` WHERE `admin_id`=10
2017-08-15 18:03:53 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `admin_leader`
2017-08-15 18:03:53 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'admin_leader' AND kcu.table_name = 'admin_leader'
2017-08-15 18:03:53 [info][yii\db\Command::query] SELECT * FROM `retail` `retail` WHERE `admin_id`=10
2017-08-15 18:03:53 [info][yii\db\Command::execute] UPDATE `retail` SET `total_fee`='0.15' WHERE `admin_id`=10
2017-08-15 18:03:53 [info][yii\db\Command::execute] INSERT INTO `user_rebate` (`user_id`, `order_id`, `pid`, `amount`, `point`, `created_at`, `updated_at`) VALUES (100001, 2, 10, '0.15', 10, '2017-08-15 18:03:53', '2017-08-15 18:03:53')
2017-08-15 18:03:53 [info][yii\db\Command::query] SELECT * FROM `user` `user` WHERE `id`=100001
2017-08-15 18:03:53 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `admin_deposit`
2017-08-15 18:03:53 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'admin_deposit' AND kcu.table_name = 'admin_deposit'
2017-08-15 18:03:53 [info][yii\db\Command::query] SELECT * FROM `admin_user` `adminUser` WHERE `id`=4
2017-08-15 18:03:53 [info][yii\db\Command::query] SELECT * FROM `admin_user` `parent` WHERE `id`=10
2017-08-15 18:03:53 [info][yii\db\Command::query] SELECT * FROM `admin_leader` `adminLeader` WHERE `admin_id`=10
2017-08-15 18:03:53 [info][yii\db\Command::execute] UPDATE `admin_leader` SET `deposit`='108.5', `updated_at`='2017-08-15 18:03:53' WHERE `admin_id`=10
2017-08-15 18:03:53 [info][yii\db\Command::execute] INSERT INTO `admin_deposit` (`admin_id`, `order_id`, `amount`, `user_id`, `created_at`) VALUES (10, 2, '-8.50', 100001, '2017-08-15 18:03:53')
2017-08-15 18:03:53 [info][yii\db\Command::execute] UPDATE `user` SET `integral`='885.5', `account`='3185', `blocked_account`='0', `loss_account`='-8.5', `updated_at`='2017-08-15 18:03:53', `updated_by`=0 WHERE `id`=100001
2017-08-15 18:03:53 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:03:53 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:03:53 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:03:53 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:03:53 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:03:53 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:03:53 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:03:53 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:03:53 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:03:54 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:03:54 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:03:54 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:03:54 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:03:54 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:03:54 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:03:54 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:03:54 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:03:54 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:03:54 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:03:54 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:03:54 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:03:54 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:03:54 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:03:54 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:03:54 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:03:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:03:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:03:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:03:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:03:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:03:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:03:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:03:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:03:55 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:03:55 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:03:56 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:03:56 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:03:56 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:03:56 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:03:56 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:03:56 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:03:56 [info][yii\web\Session::open] Session started
2017-08-15 18:03:56 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:03:56 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:03:56 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:03:56 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7492', '2017-08-15 18:03:56')
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:03:56 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:03:56 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12844', '2017-08-15 18:03:56')
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:03:56 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:03:56 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6604', '2017-08-15 18:03:56')
2017-08-15 18:03:56 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7483', `price`='7492', `time`='2017-08-15 18:03:56' WHERE `name`='longyanxiang'
2017-08-15 18:03:56 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12844', `time`='2017-08-15 18:03:56' WHERE `name`='yushi'
2017-08-15 18:03:56 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6604', `time`='2017-08-15 18:03:56' WHERE `name`='mila'
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:03:56 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:03:56 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:03:56 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:03:56 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:03:56 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:03:56 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:03:56 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:03:56 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:03:56 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:03:57 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:03:57 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:03:57 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:03:57 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:03:57 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:03:57 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:03:57 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:03:57 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:03:57 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:03:57 [info][yii\web\Session::open] Session started
2017-08-15 18:03:57 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:03:57 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:03:57 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:03:57 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:03:57 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:03:57 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:03:57 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:03:57 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:03:57 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:03:57 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:03:57 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7489', '2017-08-15 18:03:57')
2017-08-15 18:03:57 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:03:57 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:03:57 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:03:57 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:03:57 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:03:57 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:03:57 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12842', '2017-08-15 18:03:57')
2017-08-15 18:03:57 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:03:57 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:03:57 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:03:57 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:03:57 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:03:57 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:03:57 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6604', '2017-08-15 18:03:57')
2017-08-15 18:03:57 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7483', `price`='7489', `time`='2017-08-15 18:03:57' WHERE `name`='longyanxiang'
2017-08-15 18:03:57 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12842', `time`='2017-08-15 18:03:57' WHERE `name`='yushi'
2017-08-15 18:03:57 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6604', `time`='2017-08-15 18:03:57' WHERE `name`='mila'
2017-08-15 18:03:57 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:03:57 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:03:57 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:03:57 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:03:57 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:03:57 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:03:57 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:03:57 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:03:57 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:03:57 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:03:57 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:03:57 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:03:57 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:03:57 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:03:57 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:03:57 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:03:57 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:03:57 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:03:57 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:03:57 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:03:57 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:03:57 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:03:57 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:03:57 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:03:57 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:03:57 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:03:58 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:03:58 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:03:58 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:03:58 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:03:58 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:03:58 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:03:58 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:03:58 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:03:58 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:03:58 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:03:58 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:03:58 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:03:58 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:03:58 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:03:58 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:03:58 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:03:58 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:03:58 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:03:58 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:03:58 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:03:58 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:03:58 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:03:58 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:03:58 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:03:58 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:03:58 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:03:58 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:03:58 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:03:58 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:03:58 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:03:58 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:03:58 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:03:58 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:03:58 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:03:58 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:03:59 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:03:59 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:03:59 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:03:59 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:03:59 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:03:59 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:03:59 [info][yii\web\Session::open] Session started
2017-08-15 18:03:59 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:03:59 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:03:59 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:03:59 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7486', '2017-08-15 18:03:59')
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:03:59 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:03:59 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12843', '2017-08-15 18:03:59')
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:03:59 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:03:59 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6603', '2017-08-15 18:03:59')
2017-08-15 18:03:59 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7483', `price`='7486', `time`='2017-08-15 18:03:59' WHERE `name`='longyanxiang'
2017-08-15 18:03:59 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12843', `time`='2017-08-15 18:03:59' WHERE `name`='yushi'
2017-08-15 18:03:59 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6603', `time`='2017-08-15 18:03:59' WHERE `name`='mila'
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:03:59 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:03:59 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:03:59 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:03:59 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:03:59 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:03:59 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:03:59 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:03:59 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:03:59 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:04:00 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:04:01 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:04:01 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:04:01 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:04:01 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:04:01 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:04:01 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:04:01 [info][yii\web\Session::open] Session started
2017-08-15 18:04:01 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:04:01 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:01 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:04:01 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7484', '2017-08-15 18:04:01')
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:01 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:04:01 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12840', '2017-08-15 18:04:01')
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:01 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:04:01 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6605', '2017-08-15 18:04:01')
2017-08-15 18:04:01 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7483', `price`='7484', `time`='2017-08-15 18:04:01' WHERE `name`='longyanxiang'
2017-08-15 18:04:01 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12840', `time`='2017-08-15 18:04:01' WHERE `name`='yushi'
2017-08-15 18:04:01 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6605', `time`='2017-08-15 18:04:01' WHERE `name`='mila'
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:04:01 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:04:01 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:04:01 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:04:01 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:04:01 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:04:01 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:04:01 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:04:01 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:04:01 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:04:02 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:04:02 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:04:02 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:04:02 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:04:02 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:04:02 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:04:02 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:04:02 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:04:02 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:04:02 [info][yii\web\Session::open] Session started
2017-08-15 18:04:02 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:04:02 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:04:02 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:04:02 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:04:02 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:04:02 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:04:02 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:02 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:02 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:04:02 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:04:02 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7483', '2017-08-15 18:04:02')
2017-08-15 18:04:02 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:04:02 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:04:02 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:02 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:02 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:04:02 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:04:02 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12844', '2017-08-15 18:04:02')
2017-08-15 18:04:02 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:04:02 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:04:02 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:02 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:02 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:04:02 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:04:02 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6607', '2017-08-15 18:04:02')
2017-08-15 18:04:02 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7483', `price`='7483', `time`='2017-08-15 18:04:02' WHERE `name`='longyanxiang'
2017-08-15 18:04:02 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12844', `time`='2017-08-15 18:04:02' WHERE `name`='yushi'
2017-08-15 18:04:02 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6607', `time`='2017-08-15 18:04:02' WHERE `name`='mila'
2017-08-15 18:04:02 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:04:02 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:04:02 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:04:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:04:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:04:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:04:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:04:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:04:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:04:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:04:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:04:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:04:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:04:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:04:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:04:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:04:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:04:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:04:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:04:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:04:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:04:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:04:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:04:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:04:02 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:04:02 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:04:03 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:04:03 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:04:03 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:04:03 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:04:03 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:04:03 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:04:03 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:04:03 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:04:03 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:04:03 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:04:03 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:04:03 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:04:03 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:04:03 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:04:03 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:04:03 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:04:03 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:04:03 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:04:03 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:04:03 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:04:03 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:04:03 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:04:03 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:04:03 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:04:03 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:04:03 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:04:03 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:04:03 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:04:03 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:04:03 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:04:03 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:04:03 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:04:03 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:04:03 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:04:03 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:04:04 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:04:04 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:04:04 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:04:04 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:04:04 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:04:04 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:04:04 [info][yii\web\Session::open] Session started
2017-08-15 18:04:04 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:04:04 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:04 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:04:04 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7483', '2017-08-15 18:04:04')
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:04 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:04:04 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12840', '2017-08-15 18:04:04')
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:04 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:04:04 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6608', '2017-08-15 18:04:04')
2017-08-15 18:04:04 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7483', `price`='7483', `time`='2017-08-15 18:04:04' WHERE `name`='longyanxiang'
2017-08-15 18:04:04 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12840', `time`='2017-08-15 18:04:04' WHERE `name`='yushi'
2017-08-15 18:04:04 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6608', `time`='2017-08-15 18:04:04' WHERE `name`='mila'
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:04:04 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:04:04 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:04:04 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:04:04 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:04:04 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:04:04 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:04:04 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:04:04 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:04:04 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:04:05 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:04:05 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:04:05 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:04:05 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:04:05 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:04:05 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:04:05 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:04:05 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:04:05 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:04:05 [info][yii\web\Session::open] Session started
2017-08-15 18:04:05 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:04:05 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:04:05 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:04:05 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:04:05 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:04:05 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:04:05 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:05 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:05 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:04:05 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:04:05 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7481', '2017-08-15 18:04:05')
2017-08-15 18:04:05 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:04:05 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:04:05 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:05 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:05 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:04:05 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:04:05 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12840', '2017-08-15 18:04:05')
2017-08-15 18:04:05 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:04:05 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:04:05 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:05 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:05 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:04:05 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:04:05 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6606', '2017-08-15 18:04:05')
2017-08-15 18:04:05 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7483', `price`='7481', `time`='2017-08-15 18:04:05' WHERE `name`='longyanxiang'
2017-08-15 18:04:05 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12840', `time`='2017-08-15 18:04:05' WHERE `name`='yushi'
2017-08-15 18:04:05 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6606', `time`='2017-08-15 18:04:05' WHERE `name`='mila'
2017-08-15 18:04:05 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:04:05 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:04:05 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:04:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:04:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:04:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:04:05 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:04:06 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:04:06 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:04:06 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:04:06 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:04:06 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:04:06 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:04:06 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:04:06 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:04:06 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:04:06 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:04:06 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:04:06 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:04:06 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:04:06 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:04:06 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:04:06 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:04:06 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:04:06 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:04:06 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:04:06 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:04:06 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:04:06 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:04:06 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:04:06 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:04:06 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:04:06 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:04:06 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:04:06 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:04:07 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:04:07 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:04:07 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:04:07 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:04:07 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:04:07 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:04:07 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:04:07 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:04:07 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:04:07 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:04:07 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:04:07 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:04:07 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:04:07 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:04:07 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:04:07 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:04:07 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:04:07 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:04:07 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:04:07 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:04:07 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:04:07 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:04:07 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:04:07 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:04:07 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:04:07 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:04:08 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:04:08 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:04:08 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:04:08 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:04:08 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:04:08 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:04:08 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:04:08 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:04:08 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:04:08 [info][yii\web\Session::open] Session started
2017-08-15 18:04:08 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:04:08 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:04:08 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:04:08 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:04:08 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:04:08 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:04:08 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:08 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:08 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:04:08 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:04:08 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7484', '2017-08-15 18:04:08')
2017-08-15 18:04:08 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:04:08 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:04:08 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:08 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:08 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:04:08 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:04:08 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12837', '2017-08-15 18:04:08')
2017-08-15 18:04:08 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:04:08 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:04:08 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:08 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:08 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:04:08 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:04:08 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6608', '2017-08-15 18:04:08')
2017-08-15 18:04:08 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7484', `time`='2017-08-15 18:04:08' WHERE `name`='longyanxiang'
2017-08-15 18:04:08 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12837', `time`='2017-08-15 18:04:08' WHERE `name`='yushi'
2017-08-15 18:04:08 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6608', `time`='2017-08-15 18:04:08' WHERE `name`='mila'
2017-08-15 18:04:08 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:04:08 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:04:08 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:04:08 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:04:08 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:04:08 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:04:08 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:04:08 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:04:08 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:04:08 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:04:08 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:04:08 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:04:08 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:04:08 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:04:08 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:04:08 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:04:08 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:04:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:04:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:04:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:04:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:04:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:04:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:04:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:04:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:04:09 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:04:09 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:04:09 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:04:09 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:04:09 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:04:09 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:04:09 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:04:09 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:04:09 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:04:09 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:04:09 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:04:09 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:04:09 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:04:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:04:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:04:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:04:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:04:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:04:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:04:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:04:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:04:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:04:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:04:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:04:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:04:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:04:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:04:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:04:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:04:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:04:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:04:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:04:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:04:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:04:09 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:04:09 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:04:10 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:04:10 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:04:10 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:04:10 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:04:10 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:04:10 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:04:10 [info][yii\web\Session::open] Session started
2017-08-15 18:04:10 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:04:10 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:10 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:04:10 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7486', '2017-08-15 18:04:10')
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:10 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:04:10 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12834', '2017-08-15 18:04:10')
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:10 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:04:10 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6607', '2017-08-15 18:04:10')
2017-08-15 18:04:10 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7486', `time`='2017-08-15 18:04:10' WHERE `name`='longyanxiang'
2017-08-15 18:04:10 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12834', `time`='2017-08-15 18:04:10' WHERE `name`='yushi'
2017-08-15 18:04:10 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6607', `time`='2017-08-15 18:04:10' WHERE `name`='mila'
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:04:10 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:04:10 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:04:10 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:04:10 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:04:10 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:04:10 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:04:10 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:04:10 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:04:10 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:04:11 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:04:11 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:04:11 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:04:11 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:04:11 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:04:11 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:04:11 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:04:11 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:04:11 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:04:11 [info][yii\web\Session::open] Session started
2017-08-15 18:04:11 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:04:11 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:04:11 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:04:11 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:04:11 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:04:11 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:04:11 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:11 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:11 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:04:12 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:04:12 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7487', '2017-08-15 18:04:11')
2017-08-15 18:04:12 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:04:12 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:04:12 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:12 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:12 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:04:12 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:04:12 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12837', '2017-08-15 18:04:12')
2017-08-15 18:04:12 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:04:12 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:04:12 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:12 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:12 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:04:12 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:04:12 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6609', '2017-08-15 18:04:12')
2017-08-15 18:04:12 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7487', `time`='2017-08-15 18:04:11' WHERE `name`='longyanxiang'
2017-08-15 18:04:12 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12837', `time`='2017-08-15 18:04:12' WHERE `name`='yushi'
2017-08-15 18:04:12 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6609', `time`='2017-08-15 18:04:12' WHERE `name`='mila'
2017-08-15 18:04:12 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:04:12 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:04:12 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:04:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:04:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:04:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:04:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:04:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:04:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:04:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:04:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:04:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:04:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:04:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:04:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:04:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:04:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:04:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:04:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:04:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:04:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:04:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:04:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:04:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:04:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:04:12 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:04:12 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:04:12 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:04:12 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:04:12 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:04:12 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:04:12 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:04:12 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:04:12 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:04:12 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:04:12 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:04:12 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:04:12 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:04:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:04:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:04:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:04:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:04:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:04:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:04:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:04:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:04:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:04:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:04:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:04:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:04:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:04:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:04:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:04:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:04:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:04:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:04:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:04:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:04:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:04:12 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:04:12 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:04:13 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:04:13 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:04:13 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:04:13 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:04:13 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:04:13 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:04:13 [info][yii\web\Session::open] Session started
2017-08-15 18:04:13 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:04:13 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:13 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:04:13 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7487', '2017-08-15 18:04:13')
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:13 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:04:13 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12835', '2017-08-15 18:04:13')
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:13 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:04:13 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6611', '2017-08-15 18:04:13')
2017-08-15 18:04:13 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7487', `time`='2017-08-15 18:04:13' WHERE `name`='longyanxiang'
2017-08-15 18:04:13 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12835', `time`='2017-08-15 18:04:13' WHERE `name`='yushi'
2017-08-15 18:04:13 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6611', `time`='2017-08-15 18:04:13' WHERE `name`='mila'
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:04:13 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:04:13 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:04:13 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:04:13 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:04:13 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:04:13 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:04:13 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:04:13 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:04:13 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:04:15 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:04:15 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:04:15 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:04:15 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:04:15 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:04:15 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:04:15 [info][yii\web\Session::open] Session started
2017-08-15 18:04:15 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:04:15 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:15 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:04:15 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7487', '2017-08-15 18:04:15')
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:15 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:04:15 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12838', '2017-08-15 18:04:15')
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:15 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:04:15 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6612', '2017-08-15 18:04:15')
2017-08-15 18:04:15 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7487', `time`='2017-08-15 18:04:15' WHERE `name`='longyanxiang'
2017-08-15 18:04:15 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12838', `time`='2017-08-15 18:04:15' WHERE `name`='yushi'
2017-08-15 18:04:15 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6612', `time`='2017-08-15 18:04:15' WHERE `name`='mila'
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:04:15 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:04:15 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:04:15 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:04:15 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:04:15 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:04:15 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:04:15 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:04:15 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:04:15 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:04:16 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:04:16 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:04:16 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:04:16 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:04:16 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:04:16 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:04:16 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:04:16 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:04:16 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:04:16 [info][yii\web\Session::open] Session started
2017-08-15 18:04:16 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:04:16 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:04:16 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:04:16 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:04:16 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:04:16 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:04:16 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:16 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:16 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:04:16 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:04:16 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7485', '2017-08-15 18:04:16')
2017-08-15 18:04:16 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:04:16 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:04:16 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:16 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:16 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:04:16 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:04:16 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12841', '2017-08-15 18:04:16')
2017-08-15 18:04:16 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:04:16 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:04:16 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:16 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:16 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:04:16 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:04:16 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6610', '2017-08-15 18:04:16')
2017-08-15 18:04:16 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7485', `time`='2017-08-15 18:04:16' WHERE `name`='longyanxiang'
2017-08-15 18:04:16 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12841', `time`='2017-08-15 18:04:16' WHERE `name`='yushi'
2017-08-15 18:04:16 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6610', `time`='2017-08-15 18:04:16' WHERE `name`='mila'
2017-08-15 18:04:16 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:04:16 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:04:16 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:04:16 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:04:16 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:04:16 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:04:16 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:04:16 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:04:16 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:04:16 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:04:16 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:04:16 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:04:16 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:04:16 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:04:16 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:04:16 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:04:16 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:04:16 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:04:16 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:04:16 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:04:16 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:04:16 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:04:16 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:04:16 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:04:16 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:04:17 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:04:17 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:04:17 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:04:17 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:04:17 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:04:17 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:04:17 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:04:17 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:04:17 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:04:17 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:04:17 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:04:17 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:04:17 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:04:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:04:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:04:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:04:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:04:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:04:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:04:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:04:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:04:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:04:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:04:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:04:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:04:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:04:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:04:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:04:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:04:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:04:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:04:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:04:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:04:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:04:17 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:04:17 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:04:18 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:04:18 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:04:18 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:04:18 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:04:18 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:04:18 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:04:18 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:04:18 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:04:18 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:04:18 [info][yii\web\Session::open] Session started
2017-08-15 18:04:18 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:04:18 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:04:18 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:04:18 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:04:18 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:04:18 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:04:18 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:18 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:18 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:04:18 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:04:18 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7488', '2017-08-15 18:04:18')
2017-08-15 18:04:18 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:04:18 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:04:18 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:18 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:18 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:04:18 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:04:18 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12844', '2017-08-15 18:04:18')
2017-08-15 18:04:18 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:04:18 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:04:18 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:18 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:18 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:04:18 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:04:18 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6609', '2017-08-15 18:04:18')
2017-08-15 18:04:18 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7488', `time`='2017-08-15 18:04:18' WHERE `name`='longyanxiang'
2017-08-15 18:04:18 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12844', `time`='2017-08-15 18:04:18' WHERE `name`='yushi'
2017-08-15 18:04:18 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6609', `time`='2017-08-15 18:04:18' WHERE `name`='mila'
2017-08-15 18:04:18 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:04:18 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:04:18 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:04:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:04:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:04:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:04:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:04:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:04:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:04:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:04:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:04:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:04:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:04:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:04:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:04:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:04:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:04:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:04:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:04:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:04:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:04:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:04:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:04:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:04:18 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:04:18 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:04:18 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:04:18 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:04:18 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:04:18 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:04:18 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:04:18 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:04:18 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:04:18 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:04:18 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:04:19 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:04:19 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:04:19 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:04:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:04:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:04:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:04:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:04:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:04:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:04:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:04:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:04:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:04:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:04:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:04:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:04:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:04:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:04:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:04:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:04:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:04:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:04:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:04:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:04:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:04:19 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:04:19 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:04:21 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:04:21 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:04:21 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:04:21 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:04:21 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:04:21 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:04:21 [info][yii\web\Session::open] Session started
2017-08-15 18:04:21 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:04:21 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:21 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:04:21 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7489', '2017-08-15 18:04:21')
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:21 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:04:21 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12845', '2017-08-15 18:04:21')
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:21 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:04:21 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6611', '2017-08-15 18:04:21')
2017-08-15 18:04:21 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7489', `time`='2017-08-15 18:04:21' WHERE `name`='longyanxiang'
2017-08-15 18:04:21 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12845', `time`='2017-08-15 18:04:21' WHERE `name`='yushi'
2017-08-15 18:04:21 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6611', `time`='2017-08-15 18:04:21' WHERE `name`='mila'
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:04:21 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:04:21 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:04:21 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:04:21 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:04:21 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:04:21 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:04:21 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:04:21 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:04:21 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:04:22 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:04:22 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:04:22 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:04:22 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:04:22 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:04:22 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:04:22 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:04:22 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:04:22 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:04:22 [info][yii\web\Session::open] Session started
2017-08-15 18:04:22 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:04:22 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:04:22 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:04:22 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:04:22 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:04:22 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:04:22 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:22 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:22 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:04:22 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:04:22 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7491', '2017-08-15 18:04:22')
2017-08-15 18:04:22 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:04:22 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:04:22 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:22 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:22 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:04:22 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:04:22 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12842', '2017-08-15 18:04:22')
2017-08-15 18:04:22 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:04:22 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:04:22 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:22 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:22 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:04:22 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:04:22 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6612', '2017-08-15 18:04:22')
2017-08-15 18:04:22 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7491', `time`='2017-08-15 18:04:22' WHERE `name`='longyanxiang'
2017-08-15 18:04:22 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12842', `time`='2017-08-15 18:04:22' WHERE `name`='yushi'
2017-08-15 18:04:22 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6612', `time`='2017-08-15 18:04:22' WHERE `name`='mila'
2017-08-15 18:04:22 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:04:22 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:04:22 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:04:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:04:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:04:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:04:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:04:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:04:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:04:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:04:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:04:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:04:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:04:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:04:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:04:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:04:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:04:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:04:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:04:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:04:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:04:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:04:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:04:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:04:22 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:04:22 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:04:22 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:04:22 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:04:22 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:04:22 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:04:22 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:04:22 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:04:22 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:04:22 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:04:22 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:04:23 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:04:23 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:04:23 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:04:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:04:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:04:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:04:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:04:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:04:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:04:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:04:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:04:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:04:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:04:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:04:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:04:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:04:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:04:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:04:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:04:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:04:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:04:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:04:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:04:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:04:23 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:04:23 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:04:24 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:04:24 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:04:24 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:04:24 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:04:24 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:04:24 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:04:24 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:04:24 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:04:24 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:04:24 [info][yii\web\Session::open] Session started
2017-08-15 18:04:24 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:04:24 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:04:24 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:04:24 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:04:24 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:04:24 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:04:24 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:24 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:24 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:04:24 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:04:24 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7494', '2017-08-15 18:04:24')
2017-08-15 18:04:25 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:04:25 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:04:25 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:25 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:25 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:04:25 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:04:25 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12845', '2017-08-15 18:04:25')
2017-08-15 18:04:25 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:04:25 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:04:25 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:25 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:25 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:04:25 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:04:25 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6610', '2017-08-15 18:04:25')
2017-08-15 18:04:25 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7494', `time`='2017-08-15 18:04:24' WHERE `name`='longyanxiang'
2017-08-15 18:04:25 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12845', `time`='2017-08-15 18:04:25' WHERE `name`='yushi'
2017-08-15 18:04:25 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6610', `time`='2017-08-15 18:04:25' WHERE `name`='mila'
2017-08-15 18:04:25 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:04:25 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:04:25 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:04:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:04:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:04:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:04:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:04:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:04:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:04:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:04:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:04:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:04:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:04:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:04:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:04:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:04:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:04:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:04:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:04:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:04:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:04:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:04:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:04:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:04:25 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:04:25 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:04:25 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:04:25 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:04:25 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:04:25 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:04:25 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:04:25 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:04:25 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:04:25 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:04:25 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:04:26 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:04:26 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:04:26 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:04:26 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:04:26 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:04:26 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:04:26 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:04:26 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:04:26 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:04:26 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:04:26 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:04:26 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:04:26 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:04:26 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:04:26 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:04:26 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:04:26 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:04:26 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:04:26 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:04:26 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:04:26 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:04:26 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:04:26 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:04:26 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:04:26 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:04:26 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:04:27 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:04:27 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:04:27 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:04:27 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:04:27 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:04:27 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:04:27 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:04:27 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:04:27 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:04:27 [info][yii\web\Session::open] Session started
2017-08-15 18:04:27 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:04:27 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:04:27 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:04:27 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:04:27 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:04:27 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:04:27 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:27 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:27 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:04:27 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:04:27 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7495', '2017-08-15 18:04:27')
2017-08-15 18:04:27 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:04:27 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:04:27 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:27 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:27 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:04:27 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:04:27 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12849', '2017-08-15 18:04:27')
2017-08-15 18:04:27 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:04:27 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:04:27 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:27 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:27 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:04:27 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:04:27 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6609', '2017-08-15 18:04:27')
2017-08-15 18:04:27 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7495', `time`='2017-08-15 18:04:27' WHERE `name`='longyanxiang'
2017-08-15 18:04:27 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12849', `time`='2017-08-15 18:04:27' WHERE `name`='yushi'
2017-08-15 18:04:27 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6609', `time`='2017-08-15 18:04:27' WHERE `name`='mila'
2017-08-15 18:04:27 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:04:27 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:04:27 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:04:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:04:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:04:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:04:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:04:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:04:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:04:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:04:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:04:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:04:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:04:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:04:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:04:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:04:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:04:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:04:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:04:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:04:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:04:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:04:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:04:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:04:27 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:04:27 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:04:28 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:04:28 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:04:28 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:04:28 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:04:28 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:04:28 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:04:28 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:04:28 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:04:28 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:04:28 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:04:28 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:04:28 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:04:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:04:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:04:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:04:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:04:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:04:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:04:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:04:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:04:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:04:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:04:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:04:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:04:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:04:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:04:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:04:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:04:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:04:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:04:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:04:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:04:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:04:28 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:04:28 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:04:29 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:04:29 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:04:29 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:04:29 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:04:29 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:04:29 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:04:29 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:04:29 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:04:29 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:04:29 [info][yii\web\Session::open] Session started
2017-08-15 18:04:29 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:04:29 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:04:29 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:04:29 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:04:29 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:04:29 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:04:29 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:29 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:29 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:04:29 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:04:29 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7494', '2017-08-15 18:04:29')
2017-08-15 18:04:29 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:04:29 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:04:29 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:29 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:29 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:04:29 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:04:29 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12852', '2017-08-15 18:04:29')
2017-08-15 18:04:29 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:04:29 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:04:29 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:29 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:29 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:04:29 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:04:29 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6611', '2017-08-15 18:04:29')
2017-08-15 18:04:29 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7494', `time`='2017-08-15 18:04:29' WHERE `name`='longyanxiang'
2017-08-15 18:04:29 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12852', `time`='2017-08-15 18:04:29' WHERE `name`='yushi'
2017-08-15 18:04:29 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6611', `time`='2017-08-15 18:04:29' WHERE `name`='mila'
2017-08-15 18:04:29 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:04:29 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:04:29 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:04:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:04:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:04:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:04:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:04:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:04:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:04:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:04:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:04:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:04:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:04:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:04:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:04:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:04:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:04:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:04:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:04:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:04:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:04:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:04:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:04:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:04:29 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:04:29 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:04:29 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:04:29 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:04:29 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:04:29 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:04:29 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:04:29 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:04:29 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:04:29 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:04:29 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:04:31 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:04:31 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:04:31 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:04:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:04:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:04:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:04:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:04:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:04:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:04:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:04:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:04:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:04:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:04:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:04:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:04:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:04:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:04:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:04:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:04:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:04:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:04:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:04:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:04:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:04:31 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:04:31 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:04:32 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:04:32 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:04:32 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:04:32 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:04:32 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:04:32 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:04:32 [info][yii\web\Session::open] Session started
2017-08-15 18:04:32 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:04:32 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:32 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:04:32 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7493', '2017-08-15 18:04:32')
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:32 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:04:32 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12848', '2017-08-15 18:04:32')
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:32 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:04:32 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6609', '2017-08-15 18:04:32')
2017-08-15 18:04:32 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7493', `time`='2017-08-15 18:04:32' WHERE `name`='longyanxiang'
2017-08-15 18:04:32 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12848', `time`='2017-08-15 18:04:32' WHERE `name`='yushi'
2017-08-15 18:04:32 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6609', `time`='2017-08-15 18:04:32' WHERE `name`='mila'
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:04:32 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:04:32 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:04:32 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:04:32 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:04:32 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:04:32 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:04:32 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:04:32 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:04:32 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:04:33 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:04:33 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:04:33 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:04:33 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:04:33 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:04:33 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:04:33 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:04:33 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:04:33 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:04:33 [info][yii\web\Session::open] Session started
2017-08-15 18:04:33 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:04:34 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:34 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:04:34 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7494', '2017-08-15 18:04:34')
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:34 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:04:34 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12851', '2017-08-15 18:04:34')
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:34 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:04:34 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6611', '2017-08-15 18:04:34')
2017-08-15 18:04:34 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7494', `time`='2017-08-15 18:04:34' WHERE `name`='longyanxiang'
2017-08-15 18:04:34 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12851', `time`='2017-08-15 18:04:34' WHERE `name`='yushi'
2017-08-15 18:04:34 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6611', `time`='2017-08-15 18:04:34' WHERE `name`='mila'
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:04:34 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:04:34 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:04:34 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:04:34 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:04:34 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:04:34 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:04:34 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:04:34 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:04:34 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:04:35 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:04:35 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:04:35 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:04:35 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:04:35 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:04:35 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:04:35 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:04:35 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:04:35 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:04:35 [info][yii\web\Session::open] Session started
2017-08-15 18:04:35 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:04:35 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:04:35 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:04:35 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:04:35 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:04:35 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:04:35 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:35 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:35 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:04:35 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:04:35 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7495', '2017-08-15 18:04:35')
2017-08-15 18:04:35 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:04:35 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:04:35 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:35 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:35 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:04:35 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:04:35 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12847', '2017-08-15 18:04:35')
2017-08-15 18:04:35 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:04:35 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:04:35 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:35 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:35 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:04:35 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:04:35 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6611', '2017-08-15 18:04:35')
2017-08-15 18:04:35 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7495', `time`='2017-08-15 18:04:35' WHERE `name`='longyanxiang'
2017-08-15 18:04:35 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12847', `time`='2017-08-15 18:04:35' WHERE `name`='yushi'
2017-08-15 18:04:35 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6611', `time`='2017-08-15 18:04:35' WHERE `name`='mila'
2017-08-15 18:04:35 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:04:35 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:04:35 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:04:35 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:04:35 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:04:35 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:04:35 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:04:35 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:04:35 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:04:35 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:04:35 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:04:35 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:04:35 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:04:35 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:04:35 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:04:35 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:04:35 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:04:35 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:04:35 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:04:35 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:04:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:04:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:04:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:04:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:04:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:04:36 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:04:36 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:04:36 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:04:36 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:04:36 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:04:36 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:04:36 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:04:36 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:04:36 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:04:36 [info][yii\db\Command::query] SELECT `table_name`, `id` FROM `product` `product` WHERE `product`.`state`=1
2017-08-15 18:04:36 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:04:36 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:04:36 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:04:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:04:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:04:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:04:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:04:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:04:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:04:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:04:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:04:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:04:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:04:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:04:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:04:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:04:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:04:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:04:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:04:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:04:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:04:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:04:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:04:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:04:36 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:04:36 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:04:37 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:04:37 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:04:37 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:04:37 [trace][yii\base\Controller::runAction] Route to run: init/gather2
2017-08-15 18:04:37 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather2()
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:04:37 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT `option_value`, `option_name` FROM `option` `option` WHERE `type`=2
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT `table_name`, `trade_time`, `id` FROM `product` `product` WHERE (`state`=1) AND (`on_sale`=1) AND (`source`=2)
2017-08-15 18:04:37 [info][yii\web\Session::open] Session started
2017-08-15 18:04:37 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product_param`
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product_param' AND kcu.table_name = 'product_param'
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='20'
2017-08-15 18:04:37 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_all`
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_all' AND kcu.table_name = 'data_all'
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='longyanxiang'
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT price FROM data_longyanxiang WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:37 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_longyanxiang`
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_longyanxiang' AND kcu.table_name = 'data_longyanxiang'
2017-08-15 18:04:37 [info][yii\db\Command::execute] INSERT INTO `data_longyanxiang` (`price`, `time`) VALUES ('7493', '2017-08-15 18:04:37')
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='21'
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='yushi'
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT price FROM data_yushi WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:37 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_yushi`
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_yushi' AND kcu.table_name = 'data_yushi'
2017-08-15 18:04:37 [info][yii\db\Command::execute] INSERT INTO `data_yushi` (`price`, `time`) VALUES ('12846', '2017-08-15 18:04:37')
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT * FROM `product_param` `productParam` WHERE `product_id`='22'
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT * FROM `data_all` `dataAll` WHERE `name`='mila'
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price DESC LIMIT 1
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT price FROM data_mila WHERE time > "2017-08-15 09:00:00" ORDER BY price ASC LIMIT 1
2017-08-15 18:04:37 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `data_mila`
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'data_mila' AND kcu.table_name = 'data_mila'
2017-08-15 18:04:37 [info][yii\db\Command::execute] INSERT INTO `data_mila` (`price`, `time`) VALUES ('6612', '2017-08-15 18:04:37')
2017-08-15 18:04:37 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='7528', `low`='7481', `price`='7493', `time`='2017-08-15 18:04:37' WHERE `name`='longyanxiang'
2017-08-15 18:04:37 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='12884', `low`='12810', `price`='12846', `time`='2017-08-15 18:04:37' WHERE `name`='yushi'
2017-08-15 18:04:37 [info][yii\db\Command::execute] UPDATE `data_all` SET `high`='6627', `low`='6592', `price`='6612', `time`='2017-08-15 18:04:37' WHERE `name`='mila'
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT `id` FROM `product` `product` WHERE `force_sell`=1
2017-08-15 18:04:37 [info][yii\db\Command::query] SHOW FULL COLUMNS FROM `product`
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT
    kcu.constraint_name,
    kcu.column_name,
    kcu.referenced_table_name,
    kcu.referenced_column_name
FROM information_schema.referential_constraints AS rc
JOIN information_schema.key_column_usage AS kcu ON
    (
        kcu.constraint_catalog = rc.constraint_catalog OR
        (kcu.constraint_catalog IS NULL AND rc.constraint_catalog IS NULL)
    ) AND
    kcu.constraint_schema = rc.constraint_schema AND
    kcu.constraint_name = rc.constraint_name
WHERE rc.constraint_schema = database() AND kcu.table_schema = database()
AND rc.table_name = 'product' AND kcu.table_name = 'product'
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='1'
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='2'
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='3'
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='4'
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='5'
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='6'
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='7'
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='8'
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='9'
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='10'
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='11'
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='12'
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='13'
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='14'
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='15'
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='16'
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='17'
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='18'
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='19'
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='20'
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='21'
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT * FROM `product` `product` WHERE `id`='22'
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT o.id, a.price FROM `order` o INNER JOIN product p on p.id = o.product_id INNER JOIN data_all a on a.name = p.table_name where 
            (order_state = 1 AND ((a.price >= stop_profit_point) OR (a.price <= stop_loss_point)))
2017-08-15 18:04:37 [trace][yii\base\Application::bootstrap] Bootstrap with yii\log\Dispatcher
2017-08-15 18:04:37 [trace][yii\base\Module::getModule] Loading module: gii
2017-08-15 18:04:37 [trace][yii\base\Application::bootstrap] Bootstrap with yii\gii\Module::bootstrap()
2017-08-15 18:04:37 [trace][yii\base\Controller::runAction] Route to run: init/gather
2017-08-15 18:04:37 [trace][yii\base\InlineAction::runWithParams] Running action: console\controllers\InitController::actionGather()
2017-08-15 18:04:37 [info][yii\db\Command::query] SELECT option_value FROM `option` WHERE option_name='console_settings'
2017-08-15 18:04:37 [info][yii\db\Connection::open] Opening DB connection: mysql:host=127.0.0.1;dbname=x57
